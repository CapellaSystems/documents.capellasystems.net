"use strict";(self.webpackChunkcapella_documentation=self.webpackChunkcapella_documentation||[]).push([[6529],{772:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"Cambria FTC/Installation Guides/Kubernetes/Akamai/cambria-cluster-ftc-akamai","title":"Cambria Cluster / FTC 5.5.0 - Akamai Kubernetes","description":"Document History","source":"@site/docs/Cambria FTC/01-Installation Guides/01-Kubernetes/02-Akamai/index_Main.md","sourceDirName":"Cambria FTC/01-Installation Guides/01-Kubernetes/02-Akamai","slug":"/Cambria FTC/Installation Guides/Kubernetes/Akamai/cambria-cluster-ftc-akamai","permalink":"/docs/Cambria FTC/Installation Guides/Kubernetes/Akamai/cambria-cluster-ftc-akamai","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"cambria-cluster-ftc-akamai","title":"Cambria Cluster / FTC 5.5.0 - Akamai Kubernetes"},"sidebar":"FTCSidebar","previous":{"title":"Cambria Cluster / FTC 5.5.0 - AWS Kubernetes","permalink":"/docs/Cambria FTC/Installation Guides/Kubernetes/AWS/"},"next":{"title":"Cambria Cluster / FTC 5.5.0 - Terraform on Akamai Kubernetes","permalink":"/docs/Cambria FTC/Installation Guides/Kubernetes/Akamai/cambria-cluster-ftc-terraform"}}');var t=i(4848),s=i(8453);const a={id:"cambria-cluster-ftc-akamai",title:"Cambria Cluster / FTC 5.5.0 - Akamai Kubernetes"},o=void 0,l={},d=[{value:"Document History",id:"document-history",level:2},{value:"Limitations and Security Information",id:"limitations-and-security-information",level:3},{value:"\u26a0\ufe0f Important: Before You Begin",id:"\ufe0f-important-before-you-begin",level:2},{value:"\u26a0\ufe0f Critical Information: Read Before Proceeding with Installation",id:"\ufe0f-critical-information-read-before-proceeding-with-installation",level:2},{value:"1. Overview",id:"1-overview",level:2},{value:"1.1. Cambria Cluster / FTC Kubernetes Deployment",id:"11-cambria-cluster--ftc-kubernetes-deployment",level:3},{value:"Cambria Cluster:",id:"cambria-cluster",level:4},{value:"Cambria FTC:",id:"cambria-ftc",level:4},{value:"1.2. Resource Usage",id:"12-resource-usage",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"document-history",children:"Document History"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Version"}),(0,t.jsx)(n.th,{children:"Date"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"5.4.0"}),(0,t.jsx)(n.td,{children:"10/03/2024"}),(0,t.jsx)(n.td,{children:"Updated for release 5.4.0.21627 (Linux)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"5.5.0"}),(0,t.jsx)(n.td,{children:"04/11/2025"}),(0,t.jsx)(n.td,{children:"Updated for release 5.5.0.23529 (Linux)"})]})]})]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Download the online version of this document for the latest information and latest files. Always download the latest files."})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Do not move forward with the installation process if you do not agree with the End User License Agreement (EULA) for our products.",(0,t.jsx)(n.br,{}),"\n","You can download and read the EULA for Cambria FTC, Cambria Cluster, and Cambria License Manager from the links below:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.dropbox.com/s/1wg7ee7a59kzi8h/EULA_Cambria_License_Manager.pdf?dl=0",children:"Cambria License Manager EULA"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.dropbox.com/s/oemlax63aatjjiw/EULA_Cluster.pdf?dl=0",children:"Cambria Cluster EULA"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.dropbox.com/s/ualv9usxsowh6m2/EULA_FTC.pdf?dl=0",children:"Cambria FTC EULA"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"limitations-and-security-information",children:"Limitations and Security Information"}),"\n",(0,t.jsx)(n.p,{children:"Cambria FTC, Cluster, and License Manager are installed on Linux Docker containers. Limitations and security checks done for this version are included in our general Linux Documents below:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.dropbox.com/scl/fi/0rvskhpqtla6dffhbfli5/Linux_Cambria_Cluster_and_FTC_5_5_0_Guide.pdf?rlkey=ngryjzox121ow5fgbc4y8n2yd",children:"Linux Cambria Cluster and FTC 5.5.0 Guide"})}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note:"})," These documents are for informational use only. The setup for Kubernetes starts in section 3. Create Kubernetes Cluster.",(0,t.jsx)(n.br,{}),"\n","This document references Kubernetes version 1.32.1 only."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-important-before-you-begin",children:"\u26a0\ufe0f Important: Before You Begin"}),"\n",(0,t.jsx)(n.p,{children:"PDF documents have a copy/paste issue. For best results, download this document and any referenced PDF documents in this guide and open them in a PDF viewer such as Adobe Acrobat."}),"\n",(0,t.jsx)(n.p,{children:"For commands that are in more than one line, copy each line one by one and check that the copied command matches the one in the document."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-critical-information-read-before-proceeding-with-installation",children:"\u26a0\ufe0f Critical Information: Read Before Proceeding with Installation"}),"\n",(0,t.jsx)(n.p,{children:"Before starting the installation, carefully review the following considerations. Skipping this section may result in errors, failed deployments, or misconfigurations."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"A New Kubernetes Cluster Will Be Deployed"}),(0,t.jsx)(n.br,{}),"\n","\u25cf The installation process creates a brand-new Kubernetes cluster to keep the Cambria ecosystem isolated from other applications."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Default Installation is Non-Secure"}),(0,t.jsx)(n.br,{}),"\n","\u25cf The guide covers installation with default settings in an open environment (not secure).",(0,t.jsx)(n.br,{}),"\n","\u25cf If you require a secure or customized setup, you will need Akamai Cloud expertise, which is not covered in this guide.",(0,t.jsx)(n.br,{}),"\n","\u25cf Firewall information is provided in section 1.5. Firewall Information"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Understand Your Transcoding Requirements"}),(0,t.jsx)(n.br,{}),"\n","\u25cf Know your expected transcoding volume, input/output specs, and whether a GPU is needed.",(0,t.jsx)(n.br,{}),"\n","\u25cf Refer to section 1.3. Akamai Cloud Machine Information and Benchmark for guidelines on machine requirements."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Administrative Rights Required"}),(0,t.jsx)(n.br,{}),"\n","\u25cf Many of the steps in this guide require administrative rights to Akamai Cloud for adding permissions and performing other administrative functions of that sort."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Check Akamai Cloud Account Quota"}),(0,t.jsx)(n.br,{}),"\n","\u25cf Ensure the Akamai Cloud account has sufficient quota to deploy Kubernetes resources.",(0,t.jsx)(n.br,{}),"\n","\u25cf See section 1.2. Resource Usage for estimated resource requirements."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"A Separate Linux Machine is Required"}),(0,t.jsx)(n.br,{}),"\n","\u25cf A dedicated Linux machine (preferably Ubuntu) is needed to deploy Kubernetes.",(0,t.jsx)(n.br,{}),"\n","\u25cf Keeping Kubernetes tools and configuration files on a dedicated system is strongly recommended."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Verify Region-Specific Resource Availability"}),(0,t.jsx)(n.br,{}),"\n","\u25cf Not all Akamai Cloud regions support the same resources (e.g., GPU availability varies by region).",(0,t.jsx)(n.br,{}),"\n","\u25cf Consult Akamai Cloud documentation to confirm available resources in your desired region."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"document-overview",children:"Document Overview"}),"\n",(0,t.jsx)(n.p,{children:"The purpose of this document is to provide a walkthrough of the installation and initial testing process of the Cambria Cluster and Cambria FTC applications in the Kubernetes environment. The basic view of the document is the following:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Overview of the Cambria Cluster / FTC Environment in a Kubernetes Environment"}),"\n",(0,t.jsx)(n.li,{children:"Preparation for the installation (Prerequisites)"}),"\n",(0,t.jsx)(n.li,{children:"Create and configure the Kubernetes Cluster"}),"\n",(0,t.jsx)(n.li,{children:"Install Cambria Cluster and Cambria FTC on the Kubernetes Cluster"}),"\n",(0,t.jsx)(n.li,{children:"Verify the installation is working properly"}),"\n",(0,t.jsx)(n.li,{children:"Test the Cambria Cluster / FTC applications"}),"\n",(0,t.jsx)(n.li,{children:"Update the Cambria Cluster / FTC applications on Kubernetes Cluster"}),"\n",(0,t.jsx)(n.li,{children:"Delete a Kubernetes Cluster"}),"\n",(0,t.jsx)(n.li,{children:"Quick Reference of Kubernetes Installation"}),"\n",(0,t.jsx)(n.li,{children:"Quick Reference of Important Kubernetes Components (urls, template projects, test player, etc)"}),"\n",(0,t.jsx)(n.li,{children:"Glossary of important terms"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"1-overview",children:"1. Overview"}),"\n",(0,t.jsx)(n.h3,{id:"11-cambria-cluster--ftc-kubernetes-deployment",children:"1.1. Cambria Cluster / FTC Kubernetes Deployment"}),"\n",(0,t.jsx)(n.p,{children:"There are two major applications involved in this Kubernetes installation: Cambria Cluster and Cambria FTC."}),"\n",(0,t.jsx)(n.h4,{id:"cambria-cluster",children:"Cambria Cluster:"}),"\n",(0,t.jsx)(n.p,{children:"This deployment is recommended to run on at least 3 nodes (replica = 3) with a service (Load Balancer) that exposes the application externally. For each of these nodes, Cambria Cluster will be installed on its own pod and designated to its own node. One node acts as the leader and the other two are replicas for the purpose of replacing the leader in the case it becomes inactive, corrupted, etc. Each Cambria Cluster pod has three containers:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Cambria Cluster (application)"}),"\n",(0,t.jsx)(n.li,{children:"Leader Elector tool that chooses which of the Cambria Cluster node/pod will be the leader"}),"\n",(0,t.jsxs)(n.li,{children:["Cambria FTC Autoscaler tool that, when enabled, automatically deploys worker nodes for encoding purposes based on the number of encoding jobs queued to the system:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Number of Nodes to Deploy = (Number of Queued Jobs + 2) / 3\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Each Cluster deployment has a corresponding PostgreSQL database installed on a separate pod. The data is replicated across the database pods to preserve state."}),"\n",(0,t.jsx)(n.h4,{id:"cambria-ftc",children:"Cambria FTC:"}),"\n",(0,t.jsx)(n.p,{children:"Capella\u2019s Cambria FTC deployment consists of one or more nodes that are (by default) of different instance types than the Cambria Cluster nodes. These focus specifically on running encoding tasks. Each Cambria FTC pod has three containers:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Cambria FTC (application)"}),"\n",(0,t.jsxs)(n.li,{children:["Auto-Connect FTC dotnet tool:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Lists pods"}),"\n",(0,t.jsx)(n.li,{children:"Attempts to find Cambria Cluster"}),"\n",(0,t.jsx)(n.li,{children:"Connects the Cambria FTC application to the Cambria Cluster"}),"\n",(0,t.jsx)(n.li,{children:"Deletes its own node pool if no Cambria Cluster is found (~20 min timeout)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Pgcluster database: Stores encoding job content and runtime data"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Each node in the Kubernetes Cluster is assigned either a Cluster or FTC role."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"12-resource-usage",children:"1.2. Resource Usage"}),"\n",(0,t.jsx)(n.p,{children:"Resources used and their quantities vary by requirement and environment. Below is a general overview (refer to Akamai Cloud documentation for full details):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"NodeBalancers"}),": 0-3 (Manager WebUI, Manager Web Server, Grafana); 0-1 (Ingress)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Nodes"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"X Cambria Manager Instances (default: 3)"}),"\n",(0,t.jsx)(n.li,{children:"Y Cambria FTC Instances (default: 20; based on config)"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Networking"}),": No VPCs are created"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Security"}),": No firewalls by default, but can be configured for LKE nodes"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Akamai Cloud Documentation"}),":",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-lke-linode-kubernetes-engine",children:"Getting Started with LKE - Linode Kubernetes Engine"})]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var r=i(6540);const t={},s=r.createContext(t);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);