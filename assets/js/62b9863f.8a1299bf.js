"use strict";(self.webpackChunkcapella_documentation=self.webpackChunkcapella_documentation||[]).push([[1605],{5198:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"Cambria_FTC/Installation Guides/Kubernetes/Akamai/Akamai-Kubernetes/cambria-cluster-ftc-5-6-akamai-kubernetes","title":"Akamai Cloud Kubernetes","description":"Document History","source":"@site/docs/Cambria_FTC/01-Installation Guides/01-Kubernetes/02-Akamai/Akamai-Kubernetes/index.md","sourceDirName":"Cambria_FTC/01-Installation Guides/01-Kubernetes/02-Akamai/Akamai-Kubernetes","slug":"/Cambria_FTC/Installation Guides/Kubernetes/Akamai/Akamai-Kubernetes/","permalink":"/docs/Cambria_FTC/Installation Guides/Kubernetes/Akamai/Akamai-Kubernetes/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"cambria-cluster-ftc-5-6-akamai-kubernetes","title":"Akamai Cloud Kubernetes"},"sidebar":"FTCSidebar","previous":{"title":"Cambria Cluster / FTC 5.5.0 - AWS Kubernetes","permalink":"/docs/Cambria_FTC/Installation Guides/Kubernetes/AWS/"},"next":{"title":"Terraform on Akamai Kubernetes","permalink":"/docs/Cambria_FTC/Installation Guides/Kubernetes/Akamai/Akamai-Terraform-Kubernetes/Cambria_Cluster_Terraform_Akamai_Kubernetes"}}');var i=s(4848),l=s(8453);const a={id:"cambria-cluster-ftc-5-6-akamai-kubernetes",title:"Akamai Cloud Kubernetes"},t="Cambria Cluster / FTC 5.6.0 \u2014 Akamai Cloud Kubernetes Help Documentation",c={},d=[{value:"Document History",id:"document-history",level:2},{value:"Limitations and Security Information",id:"limitations-and-security-information",level:3},{value:"\u26a0\ufe0f Critical Information: Read Before Proceeding with Installation",id:"\ufe0f-critical-information-read-before-proceeding-with-installation",level:2},{value:"Document Overview",id:"document-overview",level:2},{value:"1. Overview",id:"1-overview",level:2},{value:"1.1. Cambria Cluster / FTC Kubernetes Deployment",id:"11-cambria-cluster--ftc-kubernetes-deployment",level:3},{value:"1.2. Resource Usage",id:"12-resource-usage",level:3},{value:"1.3. Akamai Cloud Machine Information and Benchmark (as of Oct 2025)",id:"13-akamai-cloud-machine-information-and-benchmark-as-of-oct-2025",level:3},{value:"a) g6-dedicated-16 (AMD EPYC 7713)",id:"a-g6-dedicated-16-amd-epyc-7713",level:4},{value:"b) g6-dedicated-56 (AMD EPYC 7713)",id:"b-g6-dedicated-56-amd-epyc-7713",level:4},{value:"1.4. Cambria Application Access",id:"14-cambria-application-access",level:3},{value:"1.4.1. External Access via TCP Load Balancer",id:"141-external-access-via-tcp-load-balancer",level:4},{value:"1.4.2. HTTP Ingress via Reverse Proxy",id:"142-http-ingress-via-reverse-proxy",level:4},{value:"1.5. Firewall Information",id:"15-firewall-information",level:3},{value:"1.6. Specifications for Linux Deployment Server",id:"16-specifications-for-linux-deployment-server",level:3},{value:"2. Prerequisites",id:"2-prerequisites",level:2},{value:"2.1. Linux Tools",id:"21-linux-tools",level:3},{value:"2.2. Cambria FTC Package",id:"22-cambria-ftc-package",level:3},{value:"2.2.1. Kubernetes Tools: kubectl, helm, linode\u2011cli",id:"221-kubernetes-tools-kubectl-helm-linodecli",level:4},{value:"2.2.2. Verification",id:"222-verification",level:4},{value:"3. Create Kubernetes Cluster (Akamai LKE)",id:"3-create-kubernetes-cluster-akamai-lke",level:2},{value:"3.1. Create LKE Cluster and Cambria Cluster Node Group",id:"31-create-lke-cluster-and-cambria-cluster-node-group",level:3},{value:"3.1.1. Cambria Cluster Nodegroup (Managers)",id:"311-cambria-cluster-nodegroup-managers",level:4},{value:"3.1.2. Create Cambria FTC Node Group(s) (Workers)",id:"312-create-cambria-ftc-node-groups-workers",level:4},{value:"3.1.3. Deploy the Kubernetes Cluster",id:"313-deploy-the-kubernetes-cluster",level:4},{value:"3.1.4. Default Storage Class",id:"314-default-storage-class",level:4},{value:"3.2. [BETA] GPU Operator for NVENC (optional)",id:"32-beta-gpu-operator-for-nvenc-optional",level:3},{value:"3.3. Application Ingress: ingress\u2011nginx",id:"33-application-ingress-ingressnginx",level:3},{value:"3.4. Performance Metrics and Logging",id:"34-performance-metrics-and-logging",level:3},{value:"4. Install Cambria Cluster, FTC, and Dependencies",id:"4-install-cambria-cluster-ftc-and-dependencies",level:2},{value:"4.1. Prerequisite: Deploy External Kubernetes Tools",id:"41-prerequisite-deploy-external-kubernetes-tools",level:3},{value:"4.2. Creating and Editing Helm Configuration File",id:"42-creating-and-editing-helm-configuration-file",level:3},{value:"4.3. Installing Cambria FTC / Cluster",id:"43-installing-cambria-ftc--cluster",level:3},{value:"5. Verify Cambria FTC / Cluster Installation",id:"5-verify-cambria-ftc--cluster-installation",level:2},{value:"5.1. Verify Cambria Cluster Deployment",id:"51-verify-cambria-cluster-deployment",level:3},{value:"5.2. Verify Cambria FTC Deployment",id:"52-verify-cambria-ftc-deployment",level:3},{value:"5.3. Verify Applications are Accessible",id:"53-verify-applications-are-accessible",level:3},{value:"5.3.1. Cambria Cluster WebUI",id:"531-cambria-cluster-webui",level:4},{value:"5.3.2. Cambria Cluster REST API",id:"532-cambria-cluster-rest-api",level:4},{value:"5.3.3. Cambria License WebUI",id:"533-cambria-license-webui",level:4},{value:"5.3.4. Cambria Ingress",id:"534-cambria-ingress",level:4},{value:"5.3.4.1. Get the Ingress Endpoints",id:"5341-get-the-ingress-endpoints",level:5},{value:"5.3.4.2. Test Ingress Endpoints",id:"5342-test-ingress-endpoints",level:5},{value:"6. Testing Cambria FTC / Cluster",id:"6-testing-cambria-ftc--cluster",level:2},{value:"7. Updating / Upgrading Cambria Cluster / FTC",id:"7-updating--upgrading-cambria-cluster--ftc",level:2},{value:"7.1. Option 1 \u2014 Normal Upgrade (Helm Upgrade)",id:"71-option-1--normal-upgrade-helm-upgrade",level:3},{value:"7.2. Option 2 \u2014 Reinstall (Deletes DB and Jobs)",id:"72-option-2--reinstall-deletes-db-and-jobs",level:3},{value:"7.3. Upgrade Verification",id:"73-upgrade-verification",level:3},{value:"8. Deleting Kubernetes Cluster",id:"8-deleting-kubernetes-cluster",level:2},{value:"9. Quick Reference: Installation, Testing, and Teardown",id:"9-quick-reference-installation-testing-and-teardown",level:2},{value:"9.1. Installation (Terraform quick path)",id:"91-installation-terraform-quick-path",level:3},{value:"9.2. Upgrades and Teardown",id:"92-upgrades-and-teardown",level:3},{value:"10. Quick Reference: Helpful Commands / Info (Post\u2011Install)",id:"10-quick-reference-helpful-commands--info-postinstall",level:2},{value:"11. Glossary (selected)",id:"11-glossary-selected",level:2},{value:"11.1. Kubernetes",id:"111-kubernetes",level:3},{value:"11.2. Third\u2011Party Tools",id:"112-thirdparty-tools",level:3},{value:"11.3. Capella Applications",id:"113-capella-applications",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"cambria-cluster--ftc-560--akamai-cloud-kubernetes-help-documentation",children:"Cambria Cluster / FTC 5.6.0 \u2014 Akamai Cloud Kubernetes Help Documentation"})}),"\n",(0,i.jsx)(n.h2,{id:"document-history",children:"Document History"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Version"}),(0,i.jsx)(n.th,{children:"Date"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"5.5.0"}),(0,i.jsx)(n.td,{children:"04/11/2025"}),(0,i.jsx)(n.td,{children:"Updated for release 5.5.0.23529 (Linux)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"5.6.0"}),(0,i.jsx)(n.td,{children:"10/31/2025"}),(0,i.jsx)(n.td,{children:"Updated for release 5.6.0.26533 (Linux)"})]})]})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Download the online version of this document for the latest information and latest files. Always download the latest files."})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Do not move forward with the installation process if you do not agree with the End User License Agreement (EULA) for our products. You can download and read the EULA for Cambria FTC, Cambria Cluster, and Cambria License Manager from the links below:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cambria Cluster"})," \u2014 ",(0,i.jsx)("a",{href:"https://www.dropbox.com/s/oemlax63aatjjiw/EULA_Cluster.pdf?dl=0",children:(0,i.jsx)(n.a,{href:"https://www.dropbox.com/s/oemlax63aatjjiw/EULA_Cluster.pdf?dl=0",children:"https://www.dropbox.com/s/oemlax63aatjjiw/EULA_Cluster.pdf?dl=0"})})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cambria FTC"})," \u2014 ",(0,i.jsx)("a",{href:"https://www.dropbox.com/s/ualv9usxsowh6m2/EULA_FTC.pdf?dl=0",children:(0,i.jsx)(n.a,{href:"https://www.dropbox.com/s/ualv9usxsowh6m2/EULA_FTC.pdf?dl=0",children:"https://www.dropbox.com/s/ualv9usxsowh6m2/EULA_FTC.pdf?dl=0"})})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cambria License Manager"})," \u2014 ",(0,i.jsx)("a",{href:"https://www.dropbox.com/s/1wg7ee7a59kzi8h/EULA_Cambria_License_Manager.pdf?dl=0",children:(0,i.jsx)(n.a,{href:"https://www.dropbox.com/s/1wg7ee7a59kzi8h/EULA_Cambria_License_Manager.pdf?dl=0",children:"https://www.dropbox.com/s/1wg7ee7a59kzi8h/EULA_Cambria_License_Manager.pdf?dl=0"})})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"limitations-and-security-information",children:"Limitations and Security Information"}),"\n",(0,i.jsxs)(n.p,{children:["Cambria FTC, Cluster, and License Manager are installed on Linux Docker containers. Limitations and security checks for this version are included in the Linux document below (",(0,i.jsx)(n.strong,{children:"informational only"}),"; Kubernetes setup starts in ",(0,i.jsx)(n.strong,{children:"3. Create Kubernetes Cluster"}),")."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cambria FTC / Cluster (sections 8 and 9):"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)("a",{href:"https://www.dropbox.com/scl/fi/rvf02h8tajsxrfbhpgmzy/Linux_Cambria_FTC_5_6_0_Guide.pdf?rlkey=gtqeowx2b9gartth8s6dwo95j&st=4wpy1dfi&dl=0",children:(0,i.jsx)(n.a,{href:"https://www.dropbox.com/scl/fi/rvf02h8tajsxrfbhpgmzy/Linux_Cambria_FTC_5_6_0_Guide.pdf?rlkey=gtqeowx2b9gartth8s6dwo95j&st=4wpy1dfi&dl=0",children:"https://www.dropbox.com/scl/fi/rvf02h8tajsxrfbhpgmzy/Linux_Cambria_FTC_5_6_0_Guide.pdf?rlkey=gtqeowx2b9gartth8s6dwo95j&st=4wpy1dfi&dl=0"})})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["**Important: Before You Begin\nPDF documents have a copy/paste issue. For best results, download this document and any referenced PDF documents in this guide and open them in a PDF viewer such as Adobe Acrobat.",(0,i.jsx)(n.br,{}),"\n","For commands that are in more than one line, copy each line one by one and check that the copied command matches the one in the document."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"When copying commands:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If a command spans multiple lines, ",(0,i.jsx)(n.strong,{children:"copy each line individually"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["After copying, ",(0,i.jsx)(n.strong,{children:"verify that the pasted command matches the text shown in the document"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Information:"})," This document references ",(0,i.jsx)(n.strong,{children:"Kubernetes 1.34"})," only."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-critical-information-read-before-proceeding-with-installation",children:"\u26a0\ufe0f Critical Information: Read Before Proceeding with Installation"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"A New Kubernetes Cluster Will Be Deployed"})," \u2014 creates a brand\u2011new cluster to isolate the Cambria ecosystem."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default Installation is Non\u2011Secure"})," \u2014 the guide covers an open environment by default. Secure/custom setups require Akamai Cloud expertise; see ",(0,i.jsx)(n.strong,{children:"1.5 Firewall Information"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Understand Your Transcoding Requirements"})," \u2014 expected volume, I/O specs, GPU need; see ",(0,i.jsx)(n.strong,{children:"1.3 Akamai Cloud Machine Information and Benchmark"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Administrative Rights Required"})," \u2014 steps require admin rights in Akamai Cloud."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Check Akamai Cloud Account Quota"})," \u2014 ensure quotas cover k8s resources; see ",(0,i.jsx)(n.strong,{children:"1.2 Resource Usage"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"A Separate Linux Machine is Required"})," \u2014 dedicated deployment box is strongly recommended."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Verify Region\u2011Specific Resource Availability"})," \u2014 some regions lack certain resources (e.g., GPUs)."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"document-overview",children:"Document Overview"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Overview of the Cambria Cluster / FTC Environment in a Kubernetes Environment"}),"\n",(0,i.jsx)(n.li,{children:"Preparation for the installation (Prerequisites)"}),"\n",(0,i.jsx)(n.li,{children:"Create and configure the Kubernetes Cluster"}),"\n",(0,i.jsx)(n.li,{children:"Install Cambria Cluster and Cambria FTC on the Kubernetes Cluster"}),"\n",(0,i.jsx)(n.li,{children:"Verify the installation is working properly"}),"\n",(0,i.jsx)(n.li,{children:"Test the Cambria Cluster / FTC applications"}),"\n",(0,i.jsx)(n.li,{children:"Update the Cambria Cluster / FTC applications on Kubernetes Cluster"}),"\n",(0,i.jsx)(n.li,{children:"Delete a Kubernetes Cluster"}),"\n",(0,i.jsx)(n.li,{children:"Quick Reference of Kubernetes Installation"}),"\n",(0,i.jsx)(n.li,{children:"Quick Reference of Important Kubernetes Components (URLs, template projects, test player, etc.)"}),"\n",(0,i.jsx)(n.li,{children:"Glossary of important terms"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"1-overview",children:"1. Overview"}),"\n",(0,i.jsx)(n.h3,{id:"11-cambria-cluster--ftc-kubernetes-deployment",children:"1.1. Cambria Cluster / FTC Kubernetes Deployment"}),"\n",(0,i.jsxs)(n.p,{children:["There are two major applications involved in this installation: ",(0,i.jsx)(n.strong,{children:"Cambria Cluster"})," and ",(0,i.jsx)(n.strong,{children:"Cambria FTC"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cambria Cluster"})," (recommended ",(0,i.jsx)(n.strong,{children:"replicas = 3"}),", one leader + two replicas). Each Cambria Cluster pod includes three containers:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cambria Cluster"})," (application)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Leader Elector"})," \u2014 chooses which pod is the leader"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cambria FTC Autoscaler"})," \u2014 when enabled, automatically deploys worker nodes based on queued jobs, using the (rounded down) calculation:",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Number of Nodes to Deploy = (Number of Queued Jobs + 2) / 3"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"PostgreSQL"})," database runs on a separate pod for each active Cambria Cluster pod. Data is replicated for resiliency."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cambria FTC"})," (worker nodes): Each FTC pod includes three containers:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cambria FTC"})," (application)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Auto\u2011Connect FTC"})," (.NET tool) \u2014 lists pods, finds Cambria Cluster, and connects the FTC to the Cluster. If no Cluster is found within ~20 minutes, the node pool is deleted or recycled."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"pgcluster"})," \u2014 stores the encoder job\u2019s contents for as long as the pod is running."]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Each Kubernetes node runs ",(0,i.jsx)(n.strong,{children:"either"})," the Cluster deployment ",(0,i.jsx)(n.strong,{children:"or"})," the FTC deployment."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"12-resource-usage",children:"1.2. Resource Usage"}),"\n",(0,i.jsx)(n.p,{children:"General resource usage (varies by environment):"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"NodeBalancers:"})," 0\u20133 (Manager WebUI, Manager Web Server, Grafana) and 0\u20131 (Ingress)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Nodes:"})," X Cambria Manager instances (default 3), Y Cambria FTC instances (default max 20)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Networking:"})," No VPCs created by default"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Security:"})," No firewalls by default (Akamai LKE node firewalls can be applied)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Akamai LKE documentation: ",(0,i.jsx)("a",{href:"https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-lke-linode-kubernetes-engine",children:(0,i.jsx)(n.a,{href:"https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-lke-linode-kubernetes-engine",children:"https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-lke-linode-kubernetes-engine"})})]}),"\n",(0,i.jsx)(n.h3,{id:"13-akamai-cloud-machine-information-and-benchmark-as-of-oct-2025",children:"1.3. Akamai Cloud Machine Information and Benchmark (as of Oct 2025)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Benchmark job"}),": Source TS H.264 1080p30 \u2192 HLS/TS H.264 (1080p/4 Mbps, 720p/2.4 Mbps, 480p/0.8 Mbps, 320x240/0.3 Mbps). I/O to Akamai ObjectStorage impacts real\u2011time speed."]}),"\n",(0,i.jsx)(n.h4,{id:"a-g6-dedicated-16-amd-epyc-7713",children:"a) g6-dedicated-16 (AMD EPYC 7713)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Machine:"})," Dedicated 32GB RAM, 16 vCPU, 640GB storage, 7TB transfer, 40Gbps/7Gbps, ",(0,i.jsx)(n.strong,{children:"$0.432/hr (10/15/2025)"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Benchmark:"})," 2 concurrent jobs \u2192 ~0.65\xd7 RT per job (throughput ~1.30\xd7 RT); CPU ~100%"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"b-g6-dedicated-56-amd-epyc-7713",children:"b) g6-dedicated-56 (AMD EPYC 7713)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Machine:"})," Dedicated 256GB RAM, 56 vCPU, 5000GB storage, 11TB transfer, 40Gbps/11Gbps, ",(0,i.jsx)(n.strong,{children:"$3.456/hr (05/28/2024)"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Benchmark:"})," 2 concurrent jobs \u2192 ~1.56\xd7 RT per job (throughput ~3.12\xd7 RT); CPU ~90%"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Finding:"})," g6\u2011dedicated\u201156 has higher throughput; g6\u2011dedicated\u201116 is more cost\u2011efficient per hour."]}),"\n",(0,i.jsx)(n.h3,{id:"14-cambria-application-access",children:"1.4. Cambria Application Access"}),"\n",(0,i.jsx)(n.h4,{id:"141-external-access-via-tcp-load-balancer",children:"1.4.1. External Access via TCP Load Balancer"}),"\n",(0,i.jsxs)(n.p,{children:["Default installation exposes: ",(0,i.jsx)(n.strong,{children:"(1)"})," Manager WebUI + License Manager, ",(0,i.jsx)(n.strong,{children:"(2)"})," Web/REST API Server."]}),"\n",(0,i.jsx)(n.p,{children:"Examples:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cambria Manager WebUI:"})," ",(0,i.jsx)(n.code,{children:"https://44.33.212.155:8161"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cambria REST API:"})," ",(0,i.jsx)(n.code,{children:"https://121.121.121.121:8650/CambriaFC/v1/SystemInfo"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["External access can be toggled in Helm values; see ",(0,i.jsx)(n.strong,{children:"4.2 Creating and Editing Helm Configuration File"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"142-http-ingress-via-reverse-proxy",children:"1.4.2. HTTP Ingress via Reverse Proxy"}),"\n",(0,i.jsx)(n.p,{children:"Expose a single public IP/domain using subdomains:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"WebUI:"})," ",(0,i.jsx)(n.code,{children:"https://webui.mydomain.com"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"REST API:"})," ",(0,i.jsx)(n.code,{children:"https://api.mydomain.com"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Grafana:"})," ",(0,i.jsx)(n.code,{children:"https://monitoring.mydomain.com"})]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Capella provides a default testing hostname (not for production). For production, configure your own hostname, certificate, etc."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"15-firewall-information",children:"1.5. Firewall Information"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"right"},children:"Port(s)"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Protocol"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Direction"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"8650"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"TCP"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Inbound"}),(0,i.jsx)(n.td,{children:"Cambria Cluster REST API"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"8161"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"TCP"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Inbound"}),(0,i.jsx)(n.td,{children:"Cambria Cluster WebUI"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"8678"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"TCP"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Inbound"}),(0,i.jsx)(n.td,{children:"Cambria License Manager Web Server"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"8481"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"TCP"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Inbound"}),(0,i.jsx)(n.td,{children:"Cambria License Manager WebUI"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"9100"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"TCP"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Inbound"}),(0,i.jsx)(n.td,{children:"Prometheus System Exporter (Cluster)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"8648"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"TCP"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Inbound"}),(0,i.jsx)(n.td,{children:"Cambria FTC REST API"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"3100"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"TCP"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Inbound"}),(0,i.jsx)(n.td,{children:"Loki"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"3000"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"TCP"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Inbound"}),(0,i.jsx)(n.td,{children:"Grafana"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"443"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"TCP"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Inbound"}),(0,i.jsx)(n.td,{children:"Capella Ingress"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"ALL"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"TCP/UDP"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Outbound"}),(0,i.jsx)(n.td,{children:"Allow all outbound traffic"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Licensing domains"})," (expose inbound & outbound):"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api.cryptlex.com:443"})," \u2014 License Server"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cryptlexapi.capellasystems.net:8485"})," \u2014 License Cache"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cpfs.capellasystems.net:8483"})," \u2014 License Backup"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"16-specifications-for-linux-deployment-server",children:"1.6. Specifications for Linux Deployment Server"}),"\n",(0,i.jsxs)(n.p,{children:["Minimum recommended (Capella tests with ",(0,i.jsx)(n.strong,{children:"Dedicated 4GB / g6-dedicated-2"}),"):"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Item"}),(0,i.jsx)(n.th,{children:"Spec"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"OS"}),(0,i.jsx)(n.td,{children:"Ubuntu 24.04"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"CPU(s)"}),(0,i.jsx)(n.td,{children:"2"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"RAM"}),(0,i.jsx)(n.td,{children:"2 GB"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Storage"}),(0,i.jsx)(n.td,{children:"10 GB"})]})]})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Commands assume ",(0,i.jsx)(n.strong,{children:"root"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-prerequisites",children:"2. Prerequisites"}),"\n",(0,i.jsx)(n.h3,{id:"21-linux-tools",children:"2.1. Linux Tools"}),"\n",(0,i.jsxs)(n.p,{children:["Install ",(0,i.jsx)(n.code,{children:"curl"}),", ",(0,i.jsx)(n.code,{children:"unzip"}),", and ",(0,i.jsx)(n.code,{children:"jq"})," (Ubuntu 24.04 example):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'sudo apt update && \\\nsudo DEBIAN_FRONTEND=noninteractive apt -o Dpkg::Options::="--force-confold" -y upgrade && \\\nsudo DEBIAN_FRONTEND=noninteractive apt -o Dpkg::Options::="--force-confold" -y install curl unzip jq\n'})}),"\n",(0,i.jsx)(n.h3,{id:"22-cambria-ftc-package",children:"2.2. Cambria FTC Package"}),"\n",(0,i.jsx)(n.p,{children:"Download & unzip:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -o CambriaClusterKubernetesAkamai_5_6_0.zip -L "https://www.dropbox.com/scl/fi/58x4oeiijhf3au3hnit38/CambriaClusterKubernetesAkamai_5_6_0.zip?rlkey=uppqqa29s9yresdk2xk7qh7lt&st=s2mus6im&dl=0"\n\nunzip -o CambriaClusterKubernetesAkamai_5_6_0.zip && chmod +x *.sh ./bin/*.sh\n'})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Scripts tested on Ubuntu."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"221-kubernetes-tools-kubectl-helm-linodecli",children:"2.2.1. Kubernetes Tools: kubectl, helm, linode\u2011cli"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Option 1 (script, verified on Ubuntu):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./bin/installKubeTools.sh && ./bin/installKubeToolsAkamai.sh\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"After success, open a new terminal."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Option 2 (manual):"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["kubectl \u2014 ",(0,i.jsx)("a",{href:"https://kubernetes.io/docs/tasks/tools/",children:(0,i.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/tools/",children:"https://kubernetes.io/docs/tasks/tools/"})})]}),"\n",(0,i.jsxs)(n.li,{children:["helm \u2014 ",(0,i.jsx)("a",{href:"https://helm.sh/docs/intro/install/",children:(0,i.jsx)(n.a,{href:"https://helm.sh/docs/intro/install/",children:"https://helm.sh/docs/intro/install/"})})]}),"\n",(0,i.jsxs)(n.li,{children:["linode\u2011cli \u2014 ",(0,i.jsx)("a",{href:"https://techdocs.akamai.com/cloud-computing/docs/install-and-configure-the-cli",children:(0,i.jsx)(n.a,{href:"https://techdocs.akamai.com/cloud-computing/docs/install-and-configure-the-cli",children:"https://techdocs.akamai.com/cloud-computing/docs/install-and-configure-the-cli"})})]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"222-verification",children:"2.2.2. Verification"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl version --client && helm version && linode-cli --version\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"3-create-kubernetes-cluster-akamai-lke",children:"3. Create Kubernetes Cluster (Akamai LKE)"}),"\n",(0,i.jsx)(n.h3,{id:"31-create-lke-cluster-and-cambria-cluster-node-group",children:"3.1. Create LKE Cluster and Cambria Cluster Node Group"}),"\n",(0,i.jsxs)(n.p,{children:["In Akamai Cloud Dashboard \u2192 ",(0,i.jsx)(n.strong,{children:"Kubernetes"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Create Cluster"}),":"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Value"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Cluster Label"}),(0,i.jsxs)(n.td,{children:["e.g., ",(0,i.jsx)(n.code,{children:"cambria-cluster"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Cluster Tier"}),(0,i.jsx)(n.td,{children:"LKE (most cases)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Region"}),(0,i.jsxs)(n.td,{children:["e.g., ",(0,i.jsx)(n.strong,{children:"US, Los Angeles (us\u2011lax)"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Kubernetes Version"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"1.34"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Akamai App Platform"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"HA Control Plane"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"No"})," (test) / ",(0,i.jsx)(n.strong,{children:"Yes"})," (prod; extra cost)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Control Plane ACL"}),(0,i.jsx)(n.td,{children:"Only if you know allowed CIDRs"})]})]})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Do ",(0,i.jsx)(n.strong,{children:"not"})," create the cluster yet; add nodegroups first."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"311-cambria-cluster-nodegroup-managers",children:"3.1.1. Cambria Cluster Nodegroup (Managers)"}),"\n",(0,i.jsxs)(n.p,{children:["Recommendation: ",(0,i.jsx)(n.strong,{children:"Dedicated 8GB"}),", ",(0,i.jsx)(n.strong,{children:"Nodes = 3"})," (1 leader, 2 backups). After creation, label the pool:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Label:"})," ",(0,i.jsx)(n.code,{children:"capella-manager=true"})]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"312-create-cambria-ftc-node-groups-workers",children:"3.1.2. Create Cambria FTC Node Group(s) (Workers)"}),"\n",(0,i.jsxs)(n.p,{children:["If not using autoscaler, create worker node pools. Start with one ",(0,i.jsx)(n.strong,{children:"g6-dedicated-16"})," instance; label the pool:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Label:"})," ",(0,i.jsx)(n.code,{children:"capella-worker=true"})]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"313-deploy-the-kubernetes-cluster",children:"3.1.3. Deploy the Kubernetes Cluster"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Create the LKE cluster; wait until all nodes show ",(0,i.jsx)(n.strong,{children:"Running"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Add labels (see above)."}),"\n",(0,i.jsx)(n.li,{children:"On the Linux Deployment Server, create a kubeconfig file and export it:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export CLUSTER_NAME=cambria-cluster && nano $CLUSTER_NAME-kubeconfig.yaml\n# paste kubeconfig from Akamai dashboard\nexport KUBECONFIG=$CLUSTER_NAME-kubeconfig.yaml\nkubectl get nodes\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"NAME                            STATUS   ROLES    AGE   VERSION\nlke525068-759150-2bfe0e460000   Ready    <none>   20m   v1.34.0\n...\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:["(Optional) Log in to ",(0,i.jsx)(n.strong,{children:"Akamai Kubernetes Dashboard"})," with the copied token."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"314-default-storage-class",children:"3.1.4. Default Storage Class"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'kubectl patch storageclass linode-block-storage \\\n  -p \'{"metadata": {"annotations": {"storageclass.kubernetes.io/is-default-class": "true"}}}\'\n'})}),"\n",(0,i.jsx)(n.h3,{id:"32-beta-gpu-operator-for-nvenc-optional",children:"3.2. [BETA] GPU Operator for NVENC (optional)"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"BETA:"})," GPU support exists but may not function as expected. ",(0,i.jsx)(n.strong,{children:"Not compatible"})," with FTC autoscaler yet."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm repo add nvidia https://helm.ngc.nvidia.com/nvidia; \\\nhelm repo update; \\\nhelm install nvidia-operator nvidia/gpu-operator \\\n  --create-namespace \\\n  --namespace gpu-operator\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Wait ~5 minutes."}),"\n",(0,i.jsxs)(n.li,{children:["Check pods: ",(0,i.jsx)(n.code,{children:"kubectl get pods -n gpu-operator"})]}),"\n",(0,i.jsxs)(n.li,{children:["Troubleshoot: ",(0,i.jsx)(n.code,{children:"kubectl describe pod <pod> -n gpu-operator"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"33-application-ingress-ingressnginx",children:"3.3. Application Ingress: ingress\u2011nginx"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.13.0/deploy/static/provider/cloud/deploy.yaml\nkubectl get all -n ingress-nginx\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For production DNS/TLS, see:",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)("a",{href:"https://www.dropbox.com/scl/fi/kxt7tnv9q18fqjmjjuwrc/Cambria_Kubernetes_Domain_DNS_Guide.pdf?rlkey=mvm4jnplyji95snq4109noiwj&st=6a7nial5&dl=0",children:(0,i.jsx)(n.a,{href:"https://www.dropbox.com/scl/fi/kxt7tnv9q18fqjmjjuwrc/Cambria_Kubernetes_Domain_DNS_Guide.pdf?rlkey=mvm4jnplyji95snq4109noiwj&st=6a7nial5&dl=0",children:"https://www.dropbox.com/scl/fi/kxt7tnv9q18fqjmjjuwrc/Cambria_Kubernetes_Domain_DNS_Guide.pdf?rlkey=mvm4jnplyji95snq4109noiwj&st=6a7nial5&dl=0"})})]}),"\n",(0,i.jsx)(n.h3,{id:"34-performance-metrics-and-logging",children:"3.4. Performance Metrics and Logging"}),"\n",(0,i.jsxs)(n.p,{children:["Install ",(0,i.jsx)(n.strong,{children:"Prometheus, Grafana, Loki, Promtail"}),":",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)("a",{href:"https://www.dropbox.com/scl/fi/cb75lsh6ipvbf0x1y4ysp/Prometheus_Grafana_Setup_for_Cambria_Cluster_5_6_0_on_Akamai_Kubernetes.pdf?rlkey=kcxit4i6ntj5ynv2e26zydhiy&st=douvkvi9&dl=0",children:(0,i.jsx)(n.a,{href:"https://www.dropbox.com/scl/fi/cb75lsh6ipvbf0x1y4ysp/Prometheus_Grafana_Setup_for_Cambria_Cluster_5_6_0_on_Akamai_Kubernetes.pdf?rlkey=kcxit4i6ntj5ynv2e26zydhiy&st=douvkvi9&dl=0",children:"https://www.dropbox.com/scl/fi/cb75lsh6ipvbf0x1y4ysp/Prometheus_Grafana_Setup_for_Cambria_Cluster_5_6_0_on_Akamai_Kubernetes.pdf?rlkey=kcxit4i6ntj5ynv2e26zydhiy&st=douvkvi9&dl=0"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"4-install-cambria-cluster-ftc-and-dependencies",children:"4. Install Cambria Cluster, FTC, and Dependencies"}),"\n",(0,i.jsx)(n.h3,{id:"41-prerequisite-deploy-external-kubernetes-tools",children:"4.1. Prerequisite: Deploy External Kubernetes Tools"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./bin/deployCambriaKubeDependencies.sh\n\nkubectl get all -n cnpg-system\nkubectl get all -n argo-events\nkubectl get all -n cert-manager\n"})}),"\n",(0,i.jsx)(n.h3,{id:"42-creating-and-editing-helm-configuration-file",children:"4.2. Creating and Editing Helm Configuration File"}),"\n",(0,i.jsx)(n.p,{children:"Create values file and edit:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm show values ./config/capella-cluster-0.5.4.tgz > cambriaClusterConfig.yaml\nnano cambriaClusterConfig.yaml\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key fields:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'workersUseGPU: false         # true if using NVENC/GPU; also set nbGPUs accordingly\nnbGPUs: 1\nenableManagerWebUI: true\nftcEnableAutoScaler: true\nftcEnableScriptableWorkflow: true\nftcInstanceType: "g6-dedicated-16"\nmaxFTCInstances: 20\n\npgInstances: 3\ncambriaClusterReplicas: 3\n\nexternalAccess:\n  exposeStreamServiceExternally: true\n  enableIngress: true\n  hostName: myhost.com\n  acmeRegistrationEmail: test@example.com\n  acmeServer: https://acme-staging-v02.api.letsencrypt.org/directory\n\nsecrets:\n  pgClusterPassword: "CHANGE_ME"\n  ftcLicenseKey: "2XXXXX-XXXXXX-XXXXXX-XXXXXX-XXXXXX-XXXXXX"\n  cambriaClusterAPIToken: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"\n  cambriaClusterWebUIUser: "admin,admin,changeme"\n  akamaiCloudAPIToken: "AKAMAI_API_TOKEN"\n  argoEventWebhookSourceBearerToken: "changeme"\n\noptionalInstall:\n  enableEventing: true\n'})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Blue items are provided by Capella (release values). Red items are environment\u2011specific."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"43-installing-cambria-ftc--cluster",children:"4.3. Installing Cambria FTC / Cluster"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm upgrade --install capella-cluster ./config/capella-cluster-0.5.4.tgz --values cambriaClusterConfig.yaml\n"})}),"\n",(0,i.jsx)(n.p,{children:"After a few minutes, get deployment info:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./bin/getFtcInfo.sh\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"5-verify-cambria-ftc--cluster-installation",children:"5. Verify Cambria FTC / Cluster Installation"}),"\n",(0,i.jsx)(n.h3,{id:"51-verify-cambria-cluster-deployment",children:"5.1. Verify Cambria Cluster Deployment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get all -n default\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Expect:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Deployments:"})," ",(0,i.jsx)(n.code,{children:"cambriaclusterapp"})," (active), ",(0,i.jsx)(n.code,{children:"cambriaclusterwebui"})," (active)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Pods:"})," ",(0,i.jsx)(n.code,{children:"cambriaclusterapp-*"})," (count = replicas), ",(0,i.jsx)(n.code,{children:"cambriaclusterwebui-*"})," (active)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Services:"})," ",(0,i.jsx)(n.code,{children:"cambriaclusterservice"})," and ",(0,i.jsx)(n.code,{children:"cambriaclusterwebuiservice"})," (EXTERNAL\u2011IP if external access enabled)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Check database resources:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get all -n capella-database\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Expect:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Pods:"})," ",(0,i.jsx)(n.code,{children:"pgcluster-*"})," replicas = config; all Running"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Services:"})," 3 services with ",(0,i.jsx)(n.code,{children:"pgcluster"})," in name (ClusterIP)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"52-verify-cambria-ftc-deployment",children:"5.2. Verify Cambria FTC Deployment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get all -n capella-worker\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Expect:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Pods:"})," ",(0,i.jsx)(n.code,{children:"cambriaftcapp-*"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["With autoscaler: most in ",(0,i.jsx)(n.strong,{children:"Pending"})," until autoscaler creates nodes"]}),"\n",(0,i.jsx)(n.li,{children:"Without autoscaler: Y Running (equals number of active FTC nodes)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Deployments:"})," one ",(0,i.jsx)(n.code,{children:"cambriaftcapp"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"53-verify-applications-are-accessible",children:"5.3. Verify Applications are Accessible"}),"\n",(0,i.jsx)(n.h4,{id:"531-cambria-cluster-webui",children:"5.3.1. Cambria Cluster WebUI"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"External URL (if enabled):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get svc/cambriaclusterwebuiservice -n default -o=jsonpath=\"{'https://'}{.status.loadBalancer.ingress[0].hostname}{':8161'}{'\\n'}\"\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Port\u2011forward (temporary):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward -n default svc/cambriaclusterwebuiservice 8161:8161 --address=0.0.0.0\n# URL: https://<server>:8161\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Proceed past the browser\u2019s unsafe warning and log in using ",(0,i.jsx)(n.code,{children:"cambriaClusterWebUIUser"})," credentials from values."]}),"\n",(0,i.jsx)(n.h4,{id:"532-cambria-cluster-rest-api",children:"5.3.2. Cambria Cluster REST API"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"External URL (if enabled):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get svc/cambriaclusterservice -n default -o=jsonpath=\"{'https://'}{.status.loadBalancer.ingress[0].hostname}{':8650'}{'\\n'}\"\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Port\u2011forward (temporary) & test:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward -n default svc/cambriaclusterservice 8650:8650 --address=0.0.0.0\ncurl -k -X GET https://<server>:8650/CambriaFC/v1/SystemInfo\n"})}),"\n",(0,i.jsx)(n.h4,{id:"533-cambria-license-webui",children:"5.3.3. Cambria License WebUI"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"External URL (if enabled):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get svc/cambriaclusterwebuiservice -n default -o=jsonpath=\"{'https://'}{.status.loadBalancer.ingress[0].hostname}{':8481'}{'\\n'}\"\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Port\u2011forward (temporary):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward -n default svc/cambriaclusterwebuiservice 8481:8481 --address=0.0.0.0\n# URL: https://<server>:8481\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Proceed past the unsafe warning; sign in with ",(0,i.jsx)(n.code,{children:"cambriaClusterWebUIUser"}),". Ensure License Status is valid (Primary and/or Backup)."]}),"\n",(0,i.jsx)(n.h4,{id:"534-cambria-ingress",children:"5.3.4. Cambria Ingress"}),"\n",(0,i.jsx)(n.h5,{id:"5341-get-the-ingress-endpoints",children:"5.3.4.1. Get the Ingress Endpoints"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get ingress -A\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Example output:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"NAMESPACE    NAME                       CLASS   HOSTS                              ADDRESS      PORTS  AGE\ndefault      cambriaclusteringress      nginx   api.mydomain.com,webui.mydomain.com 55.99.103.99 80,443 23m\nmonitoring   cambriamonitoringingress   nginx   monitoring.mydomain.com             55.99.103.99 80,443 58m\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Option 1 (test only):"})," Add to ",(0,i.jsx)(n.code,{children:"/etc/hosts"})," on client machines:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"55.99.103.99  api.mydomain.com\n55.99.103.99  webui.mydomain.com\n55.99.103.99  monitoring.mydomain.com\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Option 2 (production):"})," Use a publicly registered domain and proper DNS/TLS (see DNS guide above)."]}),"\n",(0,i.jsx)(n.h5,{id:"5342-test-ingress-endpoints",children:"5.3.4.2. Test Ingress Endpoints"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["WebUI: ",(0,i.jsx)(n.code,{children:"https://webui.mydomain.com"})]}),"\n",(0,i.jsxs)(n.li,{children:["REST: ",(0,i.jsx)(n.code,{children:"https://api.mydomain.com/CambriaFC/v1/SystemInfo"})]}),"\n",(0,i.jsxs)(n.li,{children:["Grafana: ",(0,i.jsx)(n.code,{children:"https://monitoring.mydomain.com"})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"6-testing-cambria-ftc--cluster",children:"6. Testing Cambria FTC / Cluster"}),"\n",(0,i.jsxs)(n.p,{children:["See:",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)("a",{href:"https://www.dropbox.com/scl/fi/ymu5fln1n811a1i92radv/Cambria_Cluster_and_FTC_5_6_0_Kubernetes_User_Guide.pdf?rlkey=cd0unkt9hcs3mhjp1fjbcvi9n&st=fb030h8o&dl=0",children:(0,i.jsx)(n.a,{href:"https://www.dropbox.com/scl/fi/ymu5fln1n811a1i92radv/Cambria_Cluster_and_FTC_5_6_0_Kubernetes_User_Guide.pdf?rlkey=cd0unkt9hcs3mhjp1fjbcvi9n&st=fb030h8o&dl=0",children:"https://www.dropbox.com/scl/fi/ymu5fln1n811a1i92radv/Cambria_Cluster_and_FTC_5_6_0_Kubernetes_User_Guide.pdf?rlkey=cd0unkt9hcs3mhjp1fjbcvi9n&st=fb030h8o&dl=0"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"7-updating--upgrading-cambria-cluster--ftc",children:"7. Updating / Upgrading Cambria Cluster / FTC"}),"\n",(0,i.jsx)(n.h3,{id:"71-option-1--normal-upgrade-helm-upgrade",children:"7.1. Option 1 \u2014 Normal Upgrade (Helm Upgrade)"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Known issues:"})," ",(0,i.jsx)(n.code,{children:"pgClusterPassword"})," and PostgreSQL version cannot be changed via this method."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm upgrade capella-cluster ./config/capella-cluster-0.5.4.tgz --values cambriaClusterConfig.yaml\n\nkubectl rollout restart deployment cambriaclusterapp cambriaclusterwebui -n default\nkubectl rollout restart deployment cambriaftcapp -n capella-worker\n"})}),"\n",(0,i.jsx)(n.h3,{id:"72-option-2--reinstall-deletes-db-and-jobs",children:"7.2. Option 2 \u2014 Reinstall (Deletes DB and Jobs)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm uninstall capella-cluster --wait\nhelm upgrade --install capella-cluster ./config/capella-cluster-0.5.4.tgz --values cambriaClusterConfig.yaml\n"})}),"\n",(0,i.jsx)(n.h3,{id:"73-upgrade-verification",children:"7.3. Upgrade Verification"}),"\n",(0,i.jsxs)(n.p,{children:["Repeat the checks in ",(0,i.jsx)(n.strong,{children:"5. Verify Cambria FTC / Cluster Installation"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"8-deleting-kubernetes-cluster",children:"8. Deleting Kubernetes Cluster"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm uninstall capella-cluster -n default --wait\n"})}),"\n",(0,i.jsx)(n.p,{children:"If PVs remain:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get pv -o name | awk -F'/' '{print $2}' | xargs -I{} kubectl patch pv {} -p='{\"spec\": {\"persistentVolumeReclaimPolicy\": \"Delete\"}}'\n"})}),"\n",(0,i.jsx)(n.p,{children:"Delete ingress controller:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl delete namespace ingress-nginx\n"})}),"\n",(0,i.jsx)(n.p,{children:"Uninstall monitoring:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./bin/quickDestroyMonitoring.sh <install_type>   # 's3_embedcred' or 'local'\n"})}),"\n",(0,i.jsx)(n.p,{children:"Delete the LKE cluster in the Akamai console."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"9-quick-reference-installation-testing-and-teardown",children:"9. Quick Reference: Installation, Testing, and Teardown"}),"\n",(0,i.jsx)(n.h3,{id:"91-installation-terraform-quick-path",children:"9.1. Installation (Terraform quick path)"}),"\n",(0,i.jsx)("a",{href:"https://www.dropbox.com/scl/fi/0vhx8634n6s12qjwxw25f/Cambria_Cluster_and_FTC_5_6_0_Terraform_on_Akamai_Kubernetes.pdf?rlkey=xamh1hkjbli55mwfm6gs67tti&st=yp5057bh&dl=0",children:(0,i.jsx)(n.a,{href:"https://www.dropbox.com/scl/fi/0vhx8634n6s12qjwxw25f/Cambria_Cluster_and_FTC_5_6_0_Terraform_on_Akamai_Kubernetes.pdf?rlkey=xamh1hkjbli55mwfm6gs67tti&st=yp5057bh&dl=0",children:"https://www.dropbox.com/scl/fi/0vhx8634n6s12qjwxw25f/Cambria_Cluster_and_FTC_5_6_0_Terraform_on_Akamai_Kubernetes.pdf?rlkey=xamh1hkjbli55mwfm6gs67tti&st=yp5057bh&dl=0"})}),"\n",(0,i.jsx)(n.h3,{id:"92-upgrades-and-teardown",children:"9.2. Upgrades and Teardown"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Upgrade helper:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./quickUpgradeCambriaCluster.sh\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Uninstall apps only:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm uninstall capella-cluster --wait\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Full teardown:"})," see ",(0,i.jsx)(n.strong,{children:"8. Deleting Kubernetes Cluster"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"10-quick-reference-helpful-commands--info-postinstall",children:"10. Quick Reference: Helpful Commands / Info (Post\u2011Install)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"General Cambria FTC Deployment Info"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./bin/getFtcInfo.sh\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Add worker label"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl label node <node-name> capella-worker=true\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Add manager label"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl label node <node-name> capella-manager=true\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kubeconfig"})," \u2014 copy from Akamai console (Clusters \u2192 Kubeconfig)."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Akamai Kubernetes Dashboard"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Copy ",(0,i.jsx)(n.strong,{children:"Token"})," in your cluster."]}),"\n",(0,i.jsxs)(n.li,{children:["Open ",(0,i.jsx)(n.strong,{children:"Kubernetes Dashboard"})," and log in with the token."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"WebUI address (kubectl)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get service/cambriaclusterwebuiservice -n default -o=jsonpath=\"{'https://'}{.status.loadBalancer.ingress[0].hostname}{':8161'}\"\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"WebUI address (Dashboard)"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Services \u2192 ",(0,i.jsx)(n.code,{children:"cambriaclusterwebuiservice"})," \u2192 External Endpoint \u2192 ",(0,i.jsx)(n.code,{children:"https://<EXTERNAL-IP>:8161"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"REST base URL (kubectl)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get service/cambriaclusterservice -n default -o=jsonpath=\"{'https://'}{.status.loadBalancer.ingress[0].hostname}{':8650'}\"\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"REST base URL (Dashboard)"}),"\n",(0,i.jsx)(n.code,{children:"https://<EXTERNAL-IP>:8650/CambriaFC/v1/Jobs?usertoken=<token>"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"FTC pod external IP"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# get node of the pod\nkubectl get pod/<pod-name> -n capella-worker -o=jsonpath={.spec.nodeName}\n# get external IP of node\nkubectl get node/<node-name> -o=jsonpath={.status.addresses[1].address}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Leader pod"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'kubectl get lease -o=jsonpath="{.items[0].spec.holderIdentity}"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Remote shell"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl exec -it <pod-name> -n <namespace> -- /bin/bash\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Collect logs"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl cp <pod>:/opt/capella/Cambria/Logs ./CambriaFTCLogs -n capella-worker\nkubectl cp <pod>:/opt/capella/CambriaCluster/Logs ./CambriaClusterLogs -n default\nkubectl cp <pod>:/opt/capella/CambriaLicenseManager/Logs ./CambriaFTCLicLogs -n capella-worker\nkubectl cp <pod>:/opt/capella/CambriaLicenseManager/Logs ./CambriaClusterLicLogs -n default\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Copy files into pods"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl cp /path/to/file <pod>:/path/in/container -n <namespace>\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Restart pods (delete to recreate)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl delete pod <pod-name> -n <namespace>\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"11-glossary-selected",children:"11. Glossary (selected)"}),"\n",(0,i.jsx)(n.h3,{id:"111-kubernetes",children:"11.1. Kubernetes"}),"\n",(0,i.jsxs)(n.p,{children:["For Kubernetes terms, see the official glossary: ",(0,i.jsx)("a",{href:"https://kubernetes.io/docs/reference/glossary/?fundamental=true",children:(0,i.jsx)(n.a,{href:"https://kubernetes.io/docs/reference/glossary/?fundamental=true",children:"https://kubernetes.io/docs/reference/glossary/?fundamental=true"})})]}),"\n",(0,i.jsx)(n.h3,{id:"112-thirdparty-tools",children:"11.2. Third\u2011Party Tools"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Argo"})," \u2014 Orchestrates parallel jobs in Kubernetes."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Argo\u2011Events"})," \u2014 Triggers Kubernetes functions from events (webhook, S3, etc.)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"cert\u2011manager"})," \u2014 Automates TLS certificate issuance/renewal."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Helm"})," \u2014 Package manager for Kubernetes."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ingress\u2011nginx"})," \u2014 Nginx\u2011based reverse proxy and load balancer for Ingress."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"113-capella-applications",children:"11.3. Capella Applications"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"cambriaclusterapp"})," \u2014 Cambria Cluster application container."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"cambriaftautoscale"})," \u2014 Spawns FTC nodes based on queue depth."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"cambriaftcapp"})," \u2014 Cambria FTC application container."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"cambriaftcconnect"})," \u2014 Auto\u2011connects FTC instances to Cambria Cluster."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"cambrialeaderelector"})," \u2014 Handles Cambria Cluster leader election."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"pgcluster-capella"})," \u2014 PostgreSQL pod used by Cambria Cluster."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"End of document."})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>t});var r=s(6540);const i={},l=r.createContext(i);function a(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);