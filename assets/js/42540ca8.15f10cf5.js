"use strict";(self.webpackChunkcapella_documentation=self.webpackChunkcapella_documentation||[]).push([[6146],{369:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/01_screenshot-62d29cf7176000c0b27a815094138bd6.png"},3178:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/04_screenshot-d1b7b9e1d8866a2bb293afc0f67d39be.png"},5484:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"Cambria FTC/Tutorials/Snmp Guide/snmp-guide","title":"SNMP Setup and Testing","description":"This guide explains how to set up and test SNMP (Simple Network Management Protocol) with Cambria FTC and Cluster using WinSNMP and the Net-SNMP toolset.","source":"@site/docs/Cambria FTC/04-Tutorials/Snmp Guide/index.md","sourceDirName":"Cambria FTC/04-Tutorials/Snmp Guide","slug":"/Cambria FTC/Tutorials/Snmp Guide/","permalink":"/docs/Cambria FTC/Tutorials/Snmp Guide/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"snmp-guide","title":"SNMP Setup and Testing"},"sidebar":"FTCSidebar","previous":{"title":"SCTE-35 Insertion","permalink":"/docs/Cambria FTC/Tutorials/scte35"},"next":{"title":"Watch Folder Subtitle Burn-In Workflow","permalink":"/docs/Cambria FTC/Tutorials/Subtitle Burn-In/"}}');var i=s(4848),r=s(8453);const l={id:"snmp-guide",title:"SNMP Setup and Testing"},o="SNMP Setup and Testing with Cambria FTC and Cluster",c={},d=[{value:"Section 1: Setup WinSNMP on Windows",id:"section-1-setup-winsnmp-on-windows",level:2},{value:"Configure SNMP Service",id:"configure-snmp-service",level:3},{value:"Configure SNMP Traps",id:"configure-snmp-traps",level:3},{value:"Section 2: Test SNMP with Net-SNMP Tools",id:"section-2-test-snmp-with-net-snmp-tools",level:2},{value:"Test with <code>snmpwalk</code>",id:"test-with-snmpwalk",level:3},{value:"Section 3: Testing SNMP Traps",id:"section-3-testing-snmp-traps",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"snmp-setup-and-testing-with-cambria-ftc-and-cluster",children:"SNMP Setup and Testing with Cambria FTC and Cluster"})}),"\n",(0,i.jsxs)(n.p,{children:["This guide explains how to set up and test SNMP (Simple Network Management Protocol) with ",(0,i.jsx)(n.strong,{children:"Cambria FTC and Cluster"})," using ",(0,i.jsx)(n.strong,{children:"WinSNMP"})," and the ",(0,i.jsx)(n.strong,{children:"Net-SNMP"})," toolset."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"section-1-setup-winsnmp-on-windows",children:"Section 1: Setup WinSNMP on Windows"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Search for ",(0,i.jsx)(n.strong,{children:"Add or Remove programs"})," in the Windows search bar"]}),"\n",(0,i.jsxs)(n.li,{children:["Under ",(0,i.jsx)(n.strong,{children:"Apps & Features"}),", select ",(0,i.jsx)(n.strong,{children:"Optional features"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Add a feature"}),", search for ",(0,i.jsx)(n.code,{children:"SNMP"})]}),"\n",(0,i.jsxs)(n.li,{children:["Select ",(0,i.jsx)(n.strong,{children:"SNMP"})," from the list and click ",(0,i.jsx)(n.strong,{children:"Install"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(369).A+"",width:"868",height:"625"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"configure-snmp-service",children:"Configure SNMP Service"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Open ",(0,i.jsx)(n.strong,{children:"Services"})," (",(0,i.jsx)(n.code,{children:"services.msc"}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Find and double-click ",(0,i.jsx)(n.strong,{children:"SNMP Service"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Go to the ",(0,i.jsx)(n.strong,{children:"Security"})," tab"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"If the tab doesn\u2019t show up, close Service Manager and reopen"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Hit Add for community and add:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'"public"'})," as ",(0,i.jsx)(n.strong,{children:"READ ONLY"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'"private"'})," as ",(0,i.jsx)(n.strong,{children:"ReadWrite"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Under ",(0,i.jsx)(n.strong,{children:"Accept SNMP packets from"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Choose ",(0,i.jsx)(n.strong,{children:"Any host"})," (or specify the hostname/IP of the SNMP Manager)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(9528).A+"",width:"904",height:"616"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"configure-snmp-traps",children:"Configure SNMP Traps"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Go to the ",(0,i.jsx)(n.strong,{children:"Traps"})," tab"]}),"\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.strong,{children:"Community name"})," to: ",(0,i.jsx)(n.code,{children:"public"})]}),"\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.strong,{children:"Trap destination"})," to the IP address of your machine"]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Apply"})," to save settings"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(8883).A+"",width:"511",height:"601"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u2705 Make sure ",(0,i.jsx)(n.code,{children:"snmp.exe"})," is running (check via Task Manager)"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"section-2-test-snmp-with-net-snmp-tools",children:"Section 2: Test SNMP with Net-SNMP Tools"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," In order to test these command line functions you will need to have net-snmp third-party tool installed: ",(0,i.jsx)(n.a,{href:"https://sourceforge.net/projects/net-snmp/files/latest/download",children:"Net-SNMP"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Go through the step by step installation setup for net-snmp and use all default settings. **For SNMP FTC/Cluster, we support the following OID List to display Job Information:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"1.3.6.1.4.1.47181.0.0.1"}),": Total Jobs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"1.3.6.1.4.1.47181.0.0.2"}),": Running Job"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"1.3.6.1.4.1.47181.0.0.3"}),": Failed Jobs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"1.3.6.1.4.1.47181.0.0.4"}),": Queued Jobs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"1.3.6.1.4.1.47181.0.0.5"}),": Completed Jobs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"1.3.6.1.4.1.47181.0.0.6"}),": Cancelled Jobs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"1.3.6.1.4.1.47181.0.0.7"}),": Paused Jobs"]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," The following examples are using the third-party tool we use for testing purposes, one can use any SNMP tool using the list above with FTC in order to get these details."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"SNMPwalk is an SNMP application that uses the SNMP GETNEXT requests to query. The SNMP walk will allow you to see all of the OID parameters available, set for FTC."}),"\n",(0,i.jsx)(n.p,{children:"Below is how to test snmpwalk using the third-party tool net-snmp."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"test-with-snmpwalk",children:["Test with ",(0,i.jsx)(n.code,{children:"snmpwalk"})]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Open ",(0,i.jsx)(n.strong,{children:"Command Prompt"})]}),"\n",(0,i.jsx)(n.li,{children:"Run:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"C:\\usr\\bin\\snmpwalk.exe -v 2c -c public localhost .1.3.6.1.4.1.47181\n"})}),"\n",(0,i.jsx)(n.p,{children:"This will result in an output that would give you the following details: 1.3.6.1.4.1.47181.0.0.1: Total Jobs"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"`1.3.6.1.4.1.47181.0.0.2: Running Job"}),"\n",(0,i.jsx)(n.li,{children:"`1.3.6.1.4.1.47181.0.0.3: Failed Jobs"}),"\n",(0,i.jsx)(n.li,{children:"`1.3.6.1.4.1.47181.0.0.4: Queued Jobs"}),"\n",(0,i.jsx)(n.li,{children:"`1.3.6.1.4.1.47181.0.0.5: Completed Jobs"}),"\n",(0,i.jsx)(n.li,{children:"`1.3.6.1.4.1.47181.0.0.6: Cancelled Jobs"}),"\n",(0,i.jsx)(n.li,{children:"`1.3.6.1.4.1.47181.0.0.7: Paused Jobs"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"To test a single OID (e.g., Total Jobs):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"C:\\usr\\bin\\snmpwalk.exe -v 2c -c public localhost .1.3.6.1.4.1.47181.0.0.1\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"For more info, check:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"C:\\Program Files (x86)\\Capella\\Cambria\\MIBs\\CAPELLA-FTC-CLUSTER-MIB.my\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"section-3-testing-snmp-traps",children:"Section 3: Testing SNMP Traps"}),"\n",(0,i.jsx)(n.p,{children:'SNMP Traps are alert messages sent from a remote SNMP-enabled device to a central collector, the "SNMP manager.'}),"\n",(0,i.jsx)(n.p,{children:"In our case, FTC/Cluster the agent sends a trap message to a snmptrap daemon which acts as a \u201cSNMP manager\u201d. Currently we only support traps messages for a increase in failed jobs."}),"\n",(0,i.jsx)(n.p,{children:"The snmptrapd service is an SNMP application that receives and logs SNMP TRAP messages. Test snmptrap:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"If Win SNMP Trap Daemon is working, please stop (SNMP TRAP service in service manager) You can also go Resource Monitor to check if snmptrapd.exe is\noccupying 162 port. (If it is occupied, Win SNMP trap daemon is running)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Please download the following folder from this dropbox link:\n",(0,i.jsx)(n.a,{href:"https://www.dropbox.com/sh/7rithul2rq2n73f/AAA8wuaYGd0m7f6QP0vF0CkMa?dl=0",children:"https://www.dropbox.com/sh/7rithul2rq2n73f/AAA8wuaYGd0m7f6QP0vF0CkMa?dl=0"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Once this folder is downloaded place the snmptrap_test.bat file in the following directory:\nC:\\usr"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Also from the downloaded folder place the snmpd.conf and snmptrapd.conf in the following directory:\nC:\\usr\\etc\\snmp"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"NOTE:"})," These files are needed to test snmptrap functionality."]}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsx)(n.li,{children:"First change the cmd directory to C:\\usr\\bin , then enter the following command in cmd to see snmptrp console:\n**snmptrapd -Lo -Of -c ../etc/snmp/snmptrapd.conf"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(3178).A+"",width:"705",height:"326"})}),"\n",(0,i.jsxs)(n.ol,{start:"6",children:["\n",(0,i.jsx)(n.li,{children:"Run following bat executable to send test snmptrap message:\nC:\\usr\\snmptrap_test.bat\nIf trap is correctly sent out, snmptrap daemon will show something like this:"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Run following bat executable to send test snmptrap message:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(6941).A+"",width:"990",height:"484"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},6941:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/05_screenshot-dc87ba5f3a00495d313a919195965f7c.png"},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var t=s(6540);const i={},r=t.createContext(i);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(r.Provider,{value:n},e.children)}},8883:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/03_screenshot-c4a013c9e9dbba7fb02ca17122886fa9.png"},9528:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/02_screenshot-0375003f6115535ad1fea176ee0ccf30.png"}}]);