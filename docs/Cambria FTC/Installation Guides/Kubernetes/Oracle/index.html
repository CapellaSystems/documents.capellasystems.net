<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Cambria FTC/Installation Guides/Kubernetes/Oracle/cambria-cluster-ftc-oracle" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Cambria Cluster / FTC 5.5.0 - Oracle Kubernetes | Capella Documents</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://documents.capellasystems.net/img/capellalogo.png"><meta data-rh="true" name="twitter:image" content="https://documents.capellasystems.net/img/capellalogo.png"><meta data-rh="true" property="og:url" content="https://documents.capellasystems.net/docs/Cambria FTC/Installation Guides/Kubernetes/Oracle/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Cambria Cluster / FTC 5.5.0 - Oracle Kubernetes | Capella Documents"><meta data-rh="true" name="description" content="Document History"><meta data-rh="true" property="og:description" content="Document History"><link data-rh="true" rel="icon" href="/img/capellalogo.png"><link data-rh="true" rel="canonical" href="https://documents.capellasystems.net/docs/Cambria FTC/Installation Guides/Kubernetes/Oracle/"><link data-rh="true" rel="alternate" href="https://documents.capellasystems.net/docs/Cambria FTC/Installation Guides/Kubernetes/Oracle/" hreflang="en"><link data-rh="true" rel="alternate" href="https://documents.capellasystems.net/docs/Cambria FTC/Installation Guides/Kubernetes/Oracle/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XGNQSHZSNS-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Capella Documents RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Capella Documents Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Capella Documents" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.e348f251.css">
<script src="/assets/js/runtime~main.187e3a13.js" defer="defer"></script>
<script src="/assets/js/main.91bdfdca.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/capellalogo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/capellalogo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/capellalogo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Capella Documentation</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Cambria FTC/Installation Guides/Kubernetes/AWS/">Cambria FTC</a><a class="navbar__item navbar__link" href="/docs/Cambria Stream/Installation Guides/Kubernetes/AWS/cambria_stream_aws_kubernetes/">Cambria Stream</a><a href="https://www.capellasystems.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Capella Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/Cambria FTC/Installation Guides/Kubernetes/AWS/">Installation Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/Cambria FTC/Installation Guides/Kubernetes/AWS/">Kubernetes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/Cambria FTC/Installation Guides/Kubernetes/AWS/">AWS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/Cambria FTC/Installation Guides/Kubernetes/Akamai/Akamai-Terraform_Kubernetes/cambria-cluster-ftc-terraform">Akamai</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/Cambria FTC/Installation Guides/Kubernetes/Oracle/">Oracle</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Cambria FTC/Installation Guides/Kubernetes/Oracle/">Cambria Cluster / FTC 5.5.0 - Oracle Kubernetes</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/Cambria FTC/Installation Guides/Windows/placeholder">Windows</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Cambria FTC/Release Notes/FTC v5.5 to v4.0">Release Notes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Cambria FTC/API/placeholder">API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Cambria FTC/Tutorials/Ami_creation_editing/">Tutorials<button style="margin-left:5px;cursor:pointer;margin-bottom:-2px;z-index:1000;background:transparent;padding:0;display:inline-flex;align-items:center;justify-content:center;border:none;color:var(--ifm-color-primary)" title="Sort A-Z"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-down-az lucide-arrow-down-a-z tutorial-sort-icon" aria-hidden="true"><path d="m3 16 4 4 4-4"></path><path d="M7 20V4"></path><path d="M20 8h-5"></path><path d="M15 10V6.5a2.5 2.5 0 0 1 5 0V10"></path><path d="M15 14h5l-5 6h5"></path></svg></button></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Cambria FTC/FAQ/placeholder">FAQ</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Installation Guides</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Kubernetes</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Oracle</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Cambria Cluster / FTC 5.5.0 - Oracle Kubernetes</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Cambria Cluster / FTC 5.5.0 - Oracle Kubernetes</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="document-history">Document History<a href="#document-history" class="hash-link" aria-label="Direct link to Document History" title="Direct link to Document History">​</a></h2>
<table><thead><tr><th>Version</th><th>Date</th><th>Description</th></tr></thead><tbody><tr><td>5.4.0</td><td>10/03/2024</td><td>Updated for release 5.4.0.21627 (Linux)</td></tr><tr><td>5.5.0</td><td>04/11/2025</td><td>Updated for release 5.5.0.23529 (Linux)</td></tr></tbody></table>
<blockquote>
<p><strong>Download the online version of this document for the latest information and latest files. Always download the latest files.</strong></p>
</blockquote>
<p>Do not move forward with the installation process if you do not agree with the End User License Agreement (EULA) for our products.<br>
<!-- -->You can download and read the EULA for Cambria FTC, Cambria Cluster, and Cambria License Manager from the links below:</p>
<ul>
<li><a href="https://www.dropbox.com/s/1wg7ee7a59kzi8h/EULA_Cambria_License_Manager.pdf?dl=0" target="_blank" rel="noopener noreferrer">Cambria License Manager EULA</a></li>
<li><a href="https://www.dropbox.com/s/oemlax63aatjjiw/EULA_Cluster.pdf?dl=0" target="_blank" rel="noopener noreferrer">Cambria Cluster EULA</a></li>
<li><a href="https://www.dropbox.com/s/ualv9usxsowh6m2/EULA_FTC.pdf?dl=0" target="_blank" rel="noopener noreferrer">Cambria FTC EULA</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="limitations-and-security-information">Limitations and Security Information<a href="#limitations-and-security-information" class="hash-link" aria-label="Direct link to Limitations and Security Information" title="Direct link to Limitations and Security Information">​</a></h3>
<p>Cambria FTC, Cluster, and License Manager are installed on Linux Docker containers. Limitations and security checks done for this version are included in our general Linux Documents below:</p>
<ul>
<li><a href="https://www.dropbox.com/scl/fi/0rvskhpqtla6dffhbfli5/Linux_Cambria_Cluster_and_FTC_5_5_0_Guide.pdf?rlkey=ngryjzox121ow5fgbc4y8n2yd" target="_blank" rel="noopener noreferrer">Linux Cambria Cluster and FTC 5.5.0 Guide</a></li>
</ul>
<blockquote>
<p><strong>Note:</strong> These documents are for informational use only. The setup for Kubernetes starts in section 3. Create Kubernetes Cluster.<br>
<!-- -->This document references Kubernetes version 1.32.1 only.</p>
</blockquote>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-important-before-you-begin">⚠️ Important: Before You Begin<a href="#️-important-before-you-begin" class="hash-link" aria-label="Direct link to ⚠️ Important: Before You Begin" title="Direct link to ⚠️ Important: Before You Begin">​</a></h2>
<p>PDF documents have a copy/paste issue. For best results, download this document and any referenced PDF documents in this guide and open them in a PDF viewer such as Adobe Acrobat.</p>
<p>For commands that are in more than one line, copy each line one by one and check that the copied command matches the one in the document.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-critical-information-read-before-proceeding-with-installation">⚠️ Critical Information: Read Before Proceeding with Installation<a href="#️-critical-information-read-before-proceeding-with-installation" class="hash-link" aria-label="Direct link to ⚠️ Critical Information: Read Before Proceeding with Installation" title="Direct link to ⚠️ Critical Information: Read Before Proceeding with Installation">​</a></h2>
<p>Before starting the installation, carefully review the following considerations. Skipping this section may result in errors, failed deployments, or misconfigurations.</p>
<ol>
<li>
<p><strong>A New Kubernetes Cluster Will Be Deployed</strong><br>
<!-- -->● The installation process creates a brand-new Kubernetes cluster to keep the Cambria ecosystem isolated from other applications.</p>
</li>
<li>
<p><strong>Default Installation is Non-Secure</strong><br>
<!-- -->● The guide covers installation with default settings in an open environment (not secure).<br>
<!-- -->● If you require a secure or customized setup, you will need Oracle Cloud expertise, which is not covered in this guide.<br>
<!-- -->● Firewall information is provided in section 1.5. Firewall Information</p>
</li>
<li>
<p><strong>Understand Your Transcoding Requirements</strong><br>
<!-- -->● Know your expected transcoding volume, input/output specs, and whether a GPU is needed.<br>
<!-- -->● Refer to section 1.3. Oracle Cloud Machine Information and Benchmark for guidelines on machine requirements.</p>
</li>
<li>
<p><strong>Administrative Rights Required</strong><br>
<!-- -->● Many of the steps in this guide require administrative rights to Oracle Cloud for adding permissions and performing other administrative functions of that sort.</p>
</li>
<li>
<p><strong>Check Oracle Cloud Account Quota</strong><br>
<!-- -->● Ensure the Oracle Cloud account has sufficient quota to deploy Kubernetes resources.<br>
<!-- -->● See section 1.2. Resource Usage for estimated resource requirements.</p>
</li>
<li>
<p><strong>A Separate Linux Machine is Required</strong><br>
<!-- -->● A dedicated Linux machine (preferably Ubuntu) is needed to deploy Kubernetes.<br>
<!-- -->● Keeping Kubernetes tools and configuration files on a dedicated system is strongly recommended.</p>
</li>
<li>
<p><strong>Verify Region-Specific Resource Availability</strong><br>
<!-- -->● Not all Oracle Cloud regions support the same resources (e.g., GPU availability varies by region).<br>
<!-- -->● Consult Oracle Cloud documentation to confirm available resources in your desired region.</p>
</li>
</ol>
<h1>Document Overview</h1>
<p>The purpose of this document is to provide a walkthrough of the installation and initial testing process of the Cambria Cluster and Cambria FTC applications in the Kubernetes environment. The basic view of the document is the following:</p>
<ol>
<li>Overview of the Cambria Cluster / FTC Environment in a Kubernetes Environment</li>
<li>Preparation for installation (Prerequisites)</li>
<li>Create and configure the Kubernetes Cluster, Logging, and Metrics</li>
<li>Install Cambria Cluster and Cambria FTC on the Kubernetes Cluster</li>
<li>Verify the installation is working properly</li>
<li>Test the Cambria Cluster / FTC applications</li>
<li>Update the Cambria Cluster / FTC applications on Kubernetes Cluster</li>
<li>Delete a Kubernetes Cluster</li>
<li>Quick Reference of Kubernetes Installation</li>
<li>Quick Reference of Important Kubernetes Components (urls, template projects, test player, etc)</li>
<li>Glossary of important terms</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-overview">1. Overview<a href="#1-overview" class="hash-link" aria-label="Direct link to 1. Overview" title="Direct link to 1. Overview">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-cambria-cluster--ftc-kubernetes-deployment">1.1. Cambria Cluster / FTC Kubernetes Deployment<a href="#11-cambria-cluster--ftc-kubernetes-deployment" class="hash-link" aria-label="Direct link to 1.1. Cambria Cluster / FTC Kubernetes Deployment" title="Direct link to 1.1. Cambria Cluster / FTC Kubernetes Deployment">​</a></h3>
<p>There are two major applications involved in this Kubernetes installation: <strong>Cambria Cluster</strong> and <strong>Cambria FTC</strong>.</p>
<p><strong>Cambria Cluster:</strong><br>
<!-- -->This deployment is recommended to run on at least 3 nodes (<code>replica = 3</code>) with a service (Load Balancer) that exposes the application externally. For each of these nodes, Cambria Cluster will be installed on its own pod and designated to its own node. One node acts as the leader and the other two are replicas for the purpose of replacing the leader in the case it becomes inactive, corrupted, etc.</p>
<p>Each Cambria Cluster pod has three containers:</p>
<ol>
<li>Cambria Cluster (application)</li>
<li>Leader Elector tool that chooses which of the Cambria Cluster node / pod will be the leader</li>
<li>Cambria FTC Autoscaler tool that, when the FTC autoscaler is enabled, will automatically deploy worker nodes for encoding purposes based on the number of encoding jobs queued to the system.</li>
</ol>
<p>This is based on the calculation (rounded down):<br>
<strong>Number of Nodes to Deploy = (Number of Queued Jobs + 2) / 3</strong></p>
<p>Also for the Cluster deployment, there is a corresponding PostgreSQL database installed on a separate pod for each active Cambria Cluster pod. The data is replicated between the different database pods in order to preserve data in case of issues with the database and/or Cluster.</p>
<p><strong>Cambria FTC:</strong><br>
<!-- -->Capella’s Cambria FTC deployment consists of one or more nodes that (by default) are of different instance types than the Cambria Cluster nodes. These nodes focus specifically on running encoding tasks. Similar to Cambria Cluster, the Cambria FTC application is installed on its own pod and designated to its own node.</p>
<p>Each Cambria FTC pod has three containers:</p>
<ol>
<li>Cambria FTC (application)</li>
<li>Auto-Connect FTC dotnet tool that does the following:<!-- -->
<ul>
<li>lists pods</li>
<li>attempts to find Cambria Cluster</li>
<li>connects the Cambria FTC application running in the pod to the Cambria Cluster that it found.<br>
<!-- -->This container also deletes its own node pool or recycles its node if no Cambria Cluster is found within a specific time (~20 minutes).</li>
</ul>
</li>
<li>Pgcluster database for storing its encoder&#x27;s own job contents and other such information for as long as the pod is running.</li>
</ol>
<p>Each node in the Kubernetes Cluster will either be running the Cluster deployment or the FTC deployment.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-resource-usage">1.2. Resource Usage<a href="#12-resource-usage" class="hash-link" aria-label="Direct link to 1.2. Resource Usage" title="Direct link to 1.2. Resource Usage">​</a></h3>
<p>The resources used and their quantities will vary depending on requirements and different environments.<br>
<!-- -->Below is general information about some of the major resource usage (other resources may be used).<br>
<!-- -->Consult Oracle Cloud documentation for other resources created, usage limits, etc.</p>
<p><strong>Oracle Documentation</strong><br>
<a href="https://docs.public.oneportal.content.oci.oraclecloud.com/en-us/iaas/Content/ContEng/Concepts/contengprerequisites.htm" target="_blank" rel="noopener noreferrer">https://docs.public.oneportal.content.oci.oraclecloud.com/en-us/iaas/Content/ContEng/Concepts/contengprerequisites.htm</a></p>
<table><thead><tr><th>Resource Type</th><th>Details</th></tr></thead><tbody><tr><td>Load Balancers</td><td>0–4 (Manager WebUI, Manager Web Server, Ingress, Grafana)</td></tr><tr><td>Nodes</td><td>X Cambria Manager Instances (Default is 3)</td></tr><tr><td></td><td>Y Cambria FTC Instances (Default is 20, based on max FTC configuration)</td></tr><tr><td>Networking</td><td>Default is 1 VCN-native, IG, NAT, SGW</td></tr><tr><td></td><td>Default is 3 subnets (1 for kube plane, 1 for load balancers, 1 for nodes)</td></tr><tr><td></td><td>Default is /16 CIDR (tested with /19 in default setup)</td></tr><tr><td>Security</td><td>Default is to use security lists (No NSGs are used)</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-oracle-cloud-machine-information-and-benchmark">1.3. Oracle Cloud Machine Information and Benchmark<a href="#13-oracle-cloud-machine-information-and-benchmark" class="hash-link" aria-label="Direct link to 1.3. Oracle Cloud Machine Information and Benchmark" title="Direct link to 1.3. Oracle Cloud Machine Information and Benchmark">​</a></h3>
<p>The following is a benchmark of two Oracle Cloud machines. The information below is as of <strong>October 2024</strong>.<br>
<!-- -->Note that the benchmark involves read from / write to an ObjectStorage location which influences the real-time speed of transcoding jobs.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="benchmark-job-information">Benchmark Job Information<a href="#benchmark-job-information" class="hash-link" aria-label="Direct link to Benchmark Job Information" title="Direct link to Benchmark Job Information">​</a></h4>
<table><thead><tr><th>Type</th><th>Codec</th><th>Frame Rate</th><th>Resolution</th><th>Bitrate</th></tr></thead><tbody><tr><td>Source</td><td>TS H.264</td><td>30</td><td>1920 x 1080</td><td>8 Mbps</td></tr><tr><td>Output</td><td>HLS/TS H.264</td><td>29.97</td><td>1920 x 1080, 1280 x 720, 640 x 480, 320 x 240</td><td>4 Mbps, 2.4 Mbps, 0.8 Mbps, 0.3 Mbps</td></tr></tbody></table>
<hr>
<p><strong>Machine Used:</strong> <code>VM.Standard.E4.Flex</code> – 8 OCPUs + 32 GB RAM (AMD EPYC 7J13)</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="machine-info">Machine Info<a href="#machine-info" class="hash-link" aria-label="Direct link to Machine Info" title="Direct link to Machine Info">​</a></h4>
<table><thead><tr><th>Name</th><th>RAM</th><th>OCPUs</th><th>Storage</th><th>Network</th><th>Cost per Hour</th></tr></thead><tbody><tr><td>VM.Standard.E4.Flex</td><td>32 GB</td><td>16</td><td>Any</td><td>2.5 – 3.5 GHz</td><td>$0.448</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="benchmark-results">Benchmark Results<a href="#benchmark-results" class="hash-link" aria-label="Direct link to Benchmark Results" title="Direct link to Benchmark Results">​</a></h4>
<table><thead><tr><th># of Concurrent Jobs</th><th>Real Time Speed</th><th>CPU Usage</th></tr></thead><tbody><tr><td>2</td><td>1.18x RT per job (faster than real-time) <br> Total Throughput: 2.36x RT ...<br></td><td></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="14-cambria-application-access">1.4. Cambria Application Access<a href="#14-cambria-application-access" class="hash-link" aria-label="Direct link to 1.4. Cambria Application Access" title="Direct link to 1.4. Cambria Application Access">​</a></h3>
<p>The Cambria applications are accessible via the following methods:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="141-external-access-via-tcp-load-balancer">1.4.1. External Access via TCP Load Balancer<a href="#141-external-access-via-tcp-load-balancer" class="hash-link" aria-label="Direct link to 1.4.1. External Access via TCP Load Balancer" title="Direct link to 1.4.1. External Access via TCP Load Balancer">​</a></h4>
<p>The default Cambria installation configures the Cambria applications to be exposed through load balancers.<br>
<!-- -->There is one for the <strong>Cambria Manager WebUI + License Manager</strong>, and one for the <strong>web / REST API server</strong>.<br>
<!-- -->The load balancers are publicly available and can be accessed either through their public IP address or domain name and the application&#x27;s TCP port.</p>
<p><strong>Example:</strong></p>
<ul>
<li>
<p><strong>Cambria Manager WebUI</strong><br>
<code>https://44.33.212.155:8161</code></p>
</li>
<li>
<p><strong>Cambria REST API</strong><br>
<code>https://121.121.121.121:8650/CambriaFC/v1/SystemInfo</code></p>
</li>
</ul>
<blockquote>
<p>External access in this way can be turned on/off via a configuration variable.<br>
<!-- -->See section <strong>4.2. Creating and Editing Helm Configuration File</strong>.<br>
<!-- -->If this feature is disabled, another method of access will need to be configured.</p>
</blockquote>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="142-http-ingress-via-reverse-proxy">1.4.2. HTTP Ingress via Reverse Proxy<a href="#142-http-ingress-via-reverse-proxy" class="hash-link" aria-label="Direct link to 1.4.2. HTTP Ingress via Reverse Proxy" title="Direct link to 1.4.2. HTTP Ingress via Reverse Proxy">​</a></h4>
<p>In cases where external access via TCP load balancer is not acceptable, or for using a purchased domain name from providers like GoDaddy,<br>
<!-- -->the Cambria installation provides the option to expose an ingress.</p>
<p>Similar to the external access load balancers, the <strong>Cambria Manager WebUI</strong> and <strong>web / REST API server</strong> are exposed.<br>
<!-- -->However, only <strong>one IP address or domain name</strong> is needed in this case.</p>
<p>How it works:</p>
<ul>
<li>The <strong>Cambria WebUI</strong> is exposed through the subdomain <code>webui</code></li>
<li>The <strong>Cambria web server</strong> is exposed through the subdomain <code>api</code></li>
<li>The <strong>Grafana dashboard</strong> is exposed through the subdomain <code>monitoring</code></li>
</ul>
<p><strong>Example with the domain <code>mydomain.com</code>:</strong></p>
<ul>
<li>
<p><strong>Cambria Manager WebUI</strong><br>
<code>https://webui.mydomain.com</code></p>
</li>
<li>
<p><strong>Cambria REST API</strong><br>
<code>https://api.mydomain.com</code></p>
</li>
<li>
<p><strong>Grafana Dashboard</strong><br>
<code>https://monitoring.mydomain.com</code></p>
</li>
</ul>
<blockquote>
<p>Capella provides a default ingress hostname for <strong>testing purposes only</strong>.<br>
<!-- -->In production, the default hostname, SSL certificate, and other such information needs to be configured.<br>
<!-- -->More information about ingress configuration is explained later in this guide.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="15-firewall-information">1.5. Firewall Information<a href="#15-firewall-information" class="hash-link" aria-label="Direct link to 1.5. Firewall Information" title="Direct link to 1.5. Firewall Information">​</a></h3>
<p>By default, this guide creates a Kubernetes cluster with default settings, including the default network firewall configurations.<br>
<!-- -->A virtual network is created alongside the Kubernetes cluster.</p>
<p>For custom or non-default configurations, or to restrict the network beyond the default setup,<br>
<!-- -->refer to the following list of known ports that the Cambria applications use:</p>
<table><thead><tr><th>Port(s)</th><th>Protocol</th><th>Direction</th><th>Description</th></tr></thead><tbody><tr><td>8650</td><td>TCP</td><td>Inbound</td><td>Cambria Cluster REST API</td></tr><tr><td>8161</td><td>TCP</td><td>Inbound</td><td>Cambria Cluster WebUI</td></tr><tr><td>8678</td><td>TCP</td><td>Inbound</td><td>Cambria License Manager Web Server</td></tr><tr><td>8481</td><td>TCP</td><td>Inbound</td><td>Cambria License Manager WebUI</td></tr><tr><td>9100</td><td>TCP</td><td>Inbound</td><td>Prometheus System Exporter for Cambria Cluster</td></tr><tr><td>8648</td><td>TCP</td><td>Inbound</td><td>Cambria FTC REST API</td></tr><tr><td>3100</td><td>TCP</td><td>Inbound</td><td>Loki Logging Service</td></tr><tr><td>3000</td><td>TCP</td><td>Inbound</td><td>Grafana Dashboard</td></tr><tr><td>443</td><td>TCP</td><td>Inbound</td><td>Capella Ingress</td></tr><tr><td>ALL</td><td>TCP/UDP</td><td>Outbound</td><td>Expose all outbound traffic</td></tr></tbody></table>
<hr>
<p>For <strong>Cambria licensing</strong>, ensure that both <strong>inbound and outbound</strong> access is available for the following domains:</p>
<table><thead><tr><th>Domain</th><th>Port(s)</th><th>Protocol</th><th>Direction</th><th>Description</th></tr></thead><tbody><tr><td>api.cryptlex.com</td><td>443</td><td>TCP</td><td>In/Out</td><td>License Server</td></tr><tr><td>cryptlexapi.capellasystems.net</td><td>8485</td><td>TCP</td><td>In/Out</td><td>License Cache Server</td></tr><tr><td>cpfs.capellasystems.net</td><td>8483</td><td>TCP</td><td>In/Out</td><td>License Backup Server</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-prerequisites">2. Prerequisites<a href="#2-prerequisites" class="hash-link" aria-label="Direct link to 2. Prerequisites" title="Direct link to 2. Prerequisites">​</a></h2>
<p>The following steps need to be completed before the deployment process.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-tools-kubectl-helm-and-oci-cli">2.1. Tools: Kubectl, Helm, and OCI CLI<a href="#21-tools-kubectl-helm-and-oci-cli" class="hash-link" aria-label="Direct link to 2.1. Tools: Kubectl, Helm, and OCI CLI" title="Direct link to 2.1. Tools: Kubectl, Helm, and OCI CLI">​</a></h3>
<p>This guide uses <code>cURL</code> and <code>unzip</code> to run certain commands and download the required tools and applications.<br>
<!-- -->Therefore, the Linux server used for deployment will need to have these tools installed.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-ubuntu">Example (Ubuntu)<a href="#example-ubuntu" class="hash-link" aria-label="Direct link to Example (Ubuntu)" title="Direct link to Example (Ubuntu)">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt upgrade</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt install curl unzip python3 jq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The components of this installation are packaged in a zip archive.<br>
<!-- -->Download and extract the archive using the following commands:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -o CambriaClusterKubernetesOracle_5_5_0.zip -L &quot;https://www.dropbox.com/scl/fi/xx1zx2548wc77j59x9vo4/CambriaClusterKubernetesOracle_5_5_0.zip?rlkey=2x7fwe5zc1q7qw0ghmdh4pcx6&amp;st=y0opl2fv&amp;dl=1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">unzip CambriaClusterKubernetesOracle_5_5_0.zip</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">chmod +x *.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p><strong>Important:</strong> The scripts included have been tested with <strong>Ubuntu</strong>.<br>
<!-- -->They may work with other Linux distributions but have not been tested.</p>
</blockquote>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="211-installation">2.1.1. Installation<a href="#211-installation" class="hash-link" aria-label="Direct link to 2.1.1. Installation" title="Direct link to 2.1.1. Installation">​</a></h3>
<p>There are <strong>two options</strong> available for installing the Kubernetes-required tools for deployment to Oracle Cloud:</p>
<p><strong>Option 1: Use Installation Script (Verified on Ubuntu)</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">./installKubeTools.sh</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">./installKubeToolsOracle.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Option 2: Other Installation Options</strong></p>
<ul>
<li><a href="https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/" target="_blank" rel="noopener noreferrer">Kubectl Installation</a></li>
<li><a href="https://helm.sh/docs/intro/install/" target="_blank" rel="noopener noreferrer">Helm Installation</a></li>
<li><a href="https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/cliinstall.htm" target="_blank" rel="noopener noreferrer">OCI CLI Installation</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="212-verification">2.1.2. Verification<a href="#212-verification" class="hash-link" aria-label="Direct link to 2.1.2. Verification" title="Direct link to 2.1.2. Verification">​</a></h3>
<p>Run the following commands to verify that each tool is installed correctly:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl version --client</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm version</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">oci --version</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="22-create-an-oracle-cloud-api-key">2.2. Create an Oracle Cloud API Key<a href="#22-create-an-oracle-cloud-api-key" class="hash-link" aria-label="Direct link to 2.2. Create an Oracle Cloud API Key" title="Direct link to 2.2. Create an Oracle Cloud API Key">​</a></h2>
<p>You can skip this step if you already have an Oracle Cloud config file in <code>$HOME/.oci</code> in the Linux machine that will run the commands in this guide. In order to work with Oracle Cloud, an API key needs to be created.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="steps">Steps:<a href="#steps" class="hash-link" aria-label="Direct link to Steps:" title="Direct link to Steps:">​</a></h3>
<ol>
<li>
<p>Install <code>openssl</code> tool for creating keys:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt update; sudo apt install openssl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Run the following script to create a public / private key pair:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">./createPublicPrivateKeyPair.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Copy the public key that was printed out.</p>
</li>
<li>
<p>In the Oracle Cloud Dashboard, do the following:</p>
<ul>
<li>Go to your profile (Profile is located in the top right corner and the option <strong>My profile</strong>).</li>
<li>In <strong>Resources</strong>, select <strong>API keys</strong> and click <strong>Add API key</strong>.</li>
<li>Select the <strong>Paste a public key</strong> option and paste the public key that you copied from step 3.</li>
<li>Click <strong>Add</strong> to continue. You should get a read-only version of your Oracle config file.</li>
</ul>
</li>
<li>
<p>Copy the contents of the Oracle config file generated in the previous step. Go back to the Linux terminal and create a new file <code>$HOME/.oci/config</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">nano $HOME/.oci/config</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>Paste the contents of the Oracle config file into this editor window.</p>
</li>
<li>
<p>Use your arrow keys to move down to the line that says:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">key_file: &lt;path_to_your_private_key&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Replace <code>&lt;path_to_your_private_key&gt;</code> with:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">~/.oci/privatekeypcks8.pem</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Then save the contents by doing the following on your keyboard:</p>
<ul>
<li>Press the <code>CTRL + X</code> keys</li>
<li>Press the <code>y</code> key</li>
<li>Press the <code>[Enter]</code> key</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="23-oke-entity-permissions">2.3. OKE Entity Permissions<a href="#23-oke-entity-permissions" class="hash-link" aria-label="Direct link to 2.3. OKE Entity Permissions" title="Direct link to 2.3. OKE Entity Permissions">​</a></h2>
</li>
</ul>
</li>
</ol>
<p>Follow the steps in this section if you are planning to use Cambria Cluster&#x27;s autoscaler feature. For this feature to work properly, the entities within the OKE cluster must have specific permissions in order to create and manage Oracle cloud instances.</p>
<ol>
<li>In the Oracle Cloud Dashboard, go to <strong>Identity &gt; Domains</strong> and choose the domain where the OKE cluster will be created. Then, go to <strong>Dynamic Groups</strong>.</li>
<li>Create a new Dynamic Group with the following rule (replace <code>[CT_ID]</code> with the compartment id of the compartment where the OKE cluster will be created):</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">All {instance.compartment.id = &#x27;[CT_ID]&#x27;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>Save the Dynamic Group and then go to <strong>Identity &gt; Policies</strong>.</li>
<li>Create a new policy in the same compartment as the above with the following permissions (replace the highlighted values):</li>
</ol>
<ul>
<li><strong>[DG]</strong>: the name of the dynamic group created in the previous step</li>
<li><strong>[CT]</strong>: the name of the compartment your OKE cluster will be created in</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to read clusters in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to manage cluster-family in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to use subnets in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to use vnics in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to inspect compartments in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to manage cluster-node-pools in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to manage instance-family in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to manage virtual-network-family in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to inspect compartments in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to use network-security-groups in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to use private-ips in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to use public-ips in compartment [CT]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-create-kubernetes-cluster">3. Create Kubernetes Cluster<a href="#3-create-kubernetes-cluster" class="hash-link" aria-label="Direct link to 3. Create Kubernetes Cluster" title="Direct link to 3. Create Kubernetes Cluster">​</a></h2>
<p>The following section provides the basic steps needed to create a Kubernetes Cluster on Oracle Cloud.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-create-cluster-and-cambria-manager-nodes">3.1. Create Cluster and Cambria Manager Nodes<a href="#31-create-cluster-and-cambria-manager-nodes" class="hash-link" aria-label="Direct link to 3.1. Create Cluster and Cambria Manager Nodes" title="Direct link to 3.1. Create Cluster and Cambria Manager Nodes">​</a></h3>
<ol>
<li>In the Oracle Cloud account where the cluster will be created, search for the service <strong>Kubernetes Clusters (OKE)</strong>.</li>
<li>In the <strong>List Scope</strong> section, choose the <strong>Compartment</strong> where the Kubernetes cluster should be added. This should match the compartment that was used in section <em>2.2. OKE Entity Permissions</em>.</li>
<li>Create cluster and select <strong>Quick create</strong>. Click on <strong>Submit</strong> to apply the changes.</li>
<li>Set Kubernetes cluster details up to the <strong>Shape and image</strong> section (see the example below):</li>
</ol>
<table><thead><tr><th>Field</th><th>Value</th></tr></thead><tbody><tr><td>Name</td><td>cambria-cluster</td></tr><tr><td>Kubernetes Version</td><td>v1.32.1</td></tr><tr><td>Kubernetes API endpoint</td><td>Public endpoint</td></tr><tr><td>Node type</td><td>Managed</td></tr><tr><td>Kubernetes worker nodes</td><td>Private workers</td></tr></tbody></table>
<ol start="5">
<li>In the <strong>Shape and image</strong> section, you will choose the type of machine you want for your management (Cambria Cluster) nodes. This will depend on many factors including the amount of power you need for management, number of jobs you expect to have in general, number of machines to manage, etc.</li>
</ol>
<p><strong>Information / Recommendation</strong>:</p>
<ul>
<li>Cambria Cluster manages scheduling and handling Cambria FTC encoding / packaging programs.</li>
<li>You will want to think about how many programs you will intend to run and choose an instance type accordingly.</li>
<li>Node shape can be anything. In Capella testing, we mainly use the <code>VM.Standard.E3.Flex</code> option.</li>
<li>For standard workflows, our minimum requirement currently is <strong>4 OCPUs and 8GB of RAM</strong>.</li>
<li>It is also recommended to set the node count to <strong>3</strong>. This is because 1 of the nodes will act as the Cambria Cluster node while the other 2 nodes act as backup (web server and database are replicated / duplicated). In the case that the Cambria Cluster node goes down or stops responding, one of the other two nodes will take over as the Cambria Cluster node.</li>
<li>Depending on the desired workflow(s), think about how many backup nodes may be needed.</li>
</ul>
<p><strong>For this guide, here are the values we have set</strong>:</p>
<table><thead><tr><th>Field</th><th>Value</th></tr></thead><tbody><tr><td>Node shape</td><td>VM.Standard.E3.Flex</td></tr><tr><td>OCPUs</td><td>4</td></tr><tr><td>Memory (GB)</td><td>8</td></tr><tr><td>Image</td><td>Oracle Linux 8</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="12-resource-usage-1">1.2. Resource Usage<a href="#12-resource-usage-1" class="hash-link" aria-label="Direct link to 1.2. Resource Usage" title="Direct link to 1.2. Resource Usage">​</a></h2>
<p>The resources used and their quantities will vary depending on requirements and different environments. Below is general information about some of the major resource usage (other resources may be used). Consult Oracle cloud documentation for other resources created, usage limits, etc:</p>
<p><strong>Oracle Documentation:</strong><br>
<a href="https://docs.public.oneportal.content.oci.oraclecloud.com/en-us/iaas/Content/ContEng/Concepts/contengprerequisites.htm" target="_blank" rel="noopener noreferrer">https://docs.public.oneportal.content.oci.oraclecloud.com/en-us/iaas/Content/ContEng/Concepts/contengprerequisites.htm</a></p>
<ul>
<li><strong>Load Balancers</strong>: 0-4 (Manager WebUI, Manager Web Server, Ingress, Grafana)</li>
<li><strong>Nodes</strong>: X Cambria Manager Instances (Default is 3)</li>
<li><strong>Y Cambria FTC Instances</strong>: Depends on max FTC instance configuration; Default is 20</li>
<li><strong>Networking</strong>: Default is 1 VCN-native, IG, NAT, SGW<!-- -->
<ul>
<li>Default is 3 subnets (1 for kube plane, 1 for load balancers, 1 for nodes)</li>
<li>Default is /16 CIDR (Has been tested with /19 with default setup)</li>
</ul>
</li>
<li><strong>Security</strong>: Default is to use security lists (No NSGs are used)</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="13-oracle-cloud-machine-information-and-benchmark-1">1.3. Oracle Cloud Machine Information and Benchmark<a href="#13-oracle-cloud-machine-information-and-benchmark-1" class="hash-link" aria-label="Direct link to 1.3. Oracle Cloud Machine Information and Benchmark" title="Direct link to 1.3. Oracle Cloud Machine Information and Benchmark">​</a></h2>
<p>The following is a benchmark of two Oracle Cloud machines. The information below is as of October 2024. Note that the benchmark involves reading from / writing to an ObjectStorage location, which influences the real-time speed of transcoding jobs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="benchmark-job-information-1">Benchmark Job Information<a href="#benchmark-job-information-1" class="hash-link" aria-label="Direct link to Benchmark Job Information" title="Direct link to Benchmark Job Information">​</a></h3>
<table><thead><tr><th>Type</th><th>Codec</th><th>Frame Rate</th><th>Resolution</th></tr></thead><tbody><tr><td>Source</td><td>TS H.264</td><td>30</td><td>1920 x 1080 @ 8 Mbps</td></tr><tr><td>Output</td><td>HLS/TS H.264</td><td>29.97</td><td>1920 x 1080 @ 4 Mbps<br>1280 x 720 @ 2.4 Mbps<br>640 x 480 @ 0.8 Mbps<br>320 x 240 @ 0.3 Mbps</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vm-vmstandarde4flex---8-ocpus--32-gb-ram-amd-epyc-7j13">VM: VM.Standard.E4.Flex - 8 OCPUs + 32 GB RAM [AMD EPYC 7J13]<a href="#vm-vmstandarde4flex---8-ocpus--32-gb-ram-amd-epyc-7j13" class="hash-link" aria-label="Direct link to VM: VM.Standard.E4.Flex - 8 OCPUs + 32 GB RAM [AMD EPYC 7J13]" title="Direct link to VM: VM.Standard.E4.Flex - 8 OCPUs + 32 GB RAM [AMD EPYC 7J13]">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="machine-info-1">Machine Info<a href="#machine-info-1" class="hash-link" aria-label="Direct link to Machine Info" title="Direct link to Machine Info">​</a></h4>
<table><thead><tr><th>Name</th><th>RAM</th><th>OCPUs</th><th>Storage</th><th>Network</th><th>Cost per Hour</th></tr></thead><tbody><tr><td>VM.Standard.E4.Flex</td><td>32 GB</td><td>16</td><td>Any</td><td>2.5 - 3.5 Ghz</td><td>$0.448</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="benchmark-results-1">Benchmark Results<a href="#benchmark-results-1" class="hash-link" aria-label="Direct link to Benchmark Results" title="Direct link to Benchmark Results">​</a></h4>
<table><thead><tr><th># of Concurrent Jobs</th><th>Real Time Speed</th><th>CPU Usage</th></tr></thead><tbody><tr><td>2</td><td>For Each job: 1.18x RT (faster than real-time)<br>Throughput: 2.36x RT (it takes around 26 seconds to transcode 1 minute of source)</td><td>100%</td></tr></tbody></table>
<h1>1.4. Cambria Application Access</h1>
<p>The Cambria applications are accessible via the following methods:</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="141-external-access-via-tcp-load-balancer-1">1.4.1. External Access via TCP Load Balancer<a href="#141-external-access-via-tcp-load-balancer-1" class="hash-link" aria-label="Direct link to 1.4.1. External Access via TCP Load Balancer" title="Direct link to 1.4.1. External Access via TCP Load Balancer">​</a></h2>
<p>The default Cambria installation configures the Cambria applications to be exposed through load balancers.
There is one for the Cambria Manager WebUI + License Manager, and one for the web / REST API server.
The load balancers are publicly available and can be accessed either through its public IP address or domain name, and the application&#x27;s TCP port.</p>
<p><strong>Example:</strong><br>
<strong>Cambria Manager WebUI:</strong><br>
<code>https://44.33.212.155:8161</code><br>
<strong>Cambria REST API:</strong><br>
<code>https://121.121.121.121:8650/CambriaFC/v1/SystemInfo</code></p>
<p>External access in this way can be turned on / off via a configuration variable. See section 4.2 for details.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="142-http-ingress-via-reverse-proxy-1">1.4.2. HTTP Ingress via Reverse Proxy<a href="#142-http-ingress-via-reverse-proxy-1" class="hash-link" aria-label="Direct link to 1.4.2. HTTP Ingress via Reverse Proxy" title="Direct link to 1.4.2. HTTP Ingress via Reverse Proxy">​</a></h2>
<p>In cases where external access via TCP load balancer is not acceptable or for using a purchased domain name (e.g., GoDaddy), the Cambria installation can expose an ingress.</p>
<p>Cambria WebUI, web server, and Grafana are exposed via subdomains:</p>
<p><strong>Example with domain <code>mydomain.com</code>:</strong></p>
<ul>
<li>Cambria Manager WebUI: <code>https://webui.mydomain.com</code></li>
<li>Cambria REST API: <code>https://api.mydomain.com</code></li>
<li>Grafana Dashboard: <code>https://monitoring.mydomain.com</code></li>
</ul>
<p>Capella provides a default ingress hostname for testing only. In production, proper SSL and hostname settings should be configured.</p>
<h1>1.5. Firewall Information</h1>
<p>By default, this guide creates a Kubernetes cluster with default network firewall settings.
A virtual network is created along with the cluster. The following are known ports used by Cambria applications:</p>
<table><thead><tr><th>Port(s)</th><th>Protocol</th><th>Traffic</th><th>Description</th></tr></thead><tbody><tr><td>8650</td><td>TCP</td><td>Inbound</td><td>Cambria Cluster REST API</td></tr><tr><td>8161</td><td>TCP</td><td>Inbound</td><td>Cambria Cluster WebUI</td></tr><tr><td>8678</td><td>TCP</td><td>Inbound</td><td>Cambria License Manager Web Server</td></tr><tr><td>8481</td><td>TCP</td><td>Inbound</td><td>Cambria License Manager WebUI</td></tr><tr><td>9100</td><td>TCP</td><td>Inbound</td><td>Prometheus System Exporter</td></tr><tr><td>8648</td><td>TCP</td><td>Inbound</td><td>Cambria FTC REST API</td></tr><tr><td>3100</td><td>TCP</td><td>Inbound</td><td>Loki Logging Service</td></tr><tr><td>3000</td><td>TCP</td><td>Inbound</td><td>Grafana Dashboard</td></tr><tr><td>443</td><td>TCP</td><td>Inbound</td><td>Capella Ingress</td></tr><tr><td>ALL</td><td>TCP/UDP</td><td>Outbound</td><td>Expose all Outbound Traffic</td></tr></tbody></table>
<p>For licensing, open access to the following domains (inbound &amp; outbound):</p>
<table><thead><tr><th>Domain</th><th>Port(s)</th><th>Protocol</th><th>Traffic Description</th></tr></thead><tbody><tr><td>api.cryptlex.com</td><td>443</td><td>TCP</td><td>License Server</td></tr><tr><td>cryptlexapi.capellasystems.net</td><td>8485</td><td>TCP</td><td>License Cache Server</td></tr><tr><td>cpfs.capellasystems.net</td><td>8483</td><td>TCP</td><td>License Backup Server</td></tr></tbody></table>
<h1>2. Prerequisites</h1>
<p>The following steps need to be completed before the deployment process.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="21-tools-kubectl-helm-and-oci-cli-1">2.1. Tools: Kubectl, Helm, and OCI CLI<a href="#21-tools-kubectl-helm-and-oci-cli-1" class="hash-link" aria-label="Direct link to 2.1. Tools: Kubectl, Helm, and OCI CLI" title="Direct link to 2.1. Tools: Kubectl, Helm, and OCI CLI">​</a></h2>
<p>This guide uses <code>cURL</code> and <code>unzip</code> to run certain commands and download the required tools and applications.<br>
<!-- -->Therefore, the Linux server used for deployment will need to have these tools installed. Here is an example with Ubuntu:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt update; sudo apt upgrade; sudo apt install curl unzip python3 jq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The components of this installation are packaged in a zip archive. Download it using the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -o CambriaClusterKubernetesOracle_5_5_0.zip -L &quot;https://www.dropbox.com/scl/fi/xx1zx2548wc77j59x9vo4/CambriaClusterKubernetesOracle_5_5_0.zip?rlkey=2x7fwe5zc1q7qw0ghmdh4pcx6&amp;st=y0opl2fv&amp;dl=1&quot;; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">unzip CambriaClusterKubernetesOracle_5_5_0.zip; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">chmod +x *.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p><strong>Important:</strong> The scripts included have been tested with Ubuntu. They may work with other Linux distributions but have not been tested.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="211-installation-1">2.1.1. Installation<a href="#211-installation-1" class="hash-link" aria-label="Direct link to 2.1.1. Installation" title="Direct link to 2.1.1. Installation">​</a></h3>
<p>There are two options available for installing the Kubernetes required tools for deployment to Oracle Cloud:</p>
<p><strong>Option 1: Use Installation Script (Verified on Ubuntu)</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">./installKubeTools.sh; ./installKubeToolsOracle.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Option 2: Other Installation Options</strong></p>
<ul>
<li>Kubectl: <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/</a></li>
<li>Helm: <a href="https://helm.sh/docs/intro/install/" target="_blank" rel="noopener noreferrer">https://helm.sh/docs/intro/install/</a></li>
<li>OCI CLI: <a href="https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/cliinstall.htm" target="_blank" rel="noopener noreferrer">https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/cliinstall.htm</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="212-verification-1">2.1.2. Verification<a href="#212-verification-1" class="hash-link" aria-label="Direct link to 2.1.2. Verification" title="Direct link to 2.1.2. Verification">​</a></h3>
<p>If any of the commands below fail, review the installation instructions for the failing tool and try again:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl version --client; helm version; oci --version</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="22-create-an-oracle-cloud-api-key-1">2.2. Create an Oracle Cloud API Key<a href="#22-create-an-oracle-cloud-api-key-1" class="hash-link" aria-label="Direct link to 2.2. Create an Oracle Cloud API Key" title="Direct link to 2.2. Create an Oracle Cloud API Key">​</a></h2>
<p>You can skip this step if you already have an Oracle Cloud config file in <code>$HOME/.oci</code> in the Linux machine that will run the commands in this guide.<br>
<!-- -->In order to work with Oracle Cloud, an API key needs to be created.</p>
<ol>
<li>Install OpenSSL tool for creating keys:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt update; sudo apt install openssl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Run the following script to create a public/private key pair:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">./createPublicPrivateKeyPair.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>
<p>Copy the public key that was printed out.</p>
</li>
<li>
<p>In the Oracle Cloud Dashboard:</p>
<ul>
<li>Go to your profile (<strong>My Profile</strong> from the top right corner).</li>
<li>In <strong>Resources</strong>, select <strong>API Keys</strong> and click <strong>Add API Key</strong>.</li>
<li>Select <strong>Paste a public key</strong> and paste the public key copied in step 3.</li>
<li>Click <strong>Add</strong>. A read-only version of your Oracle config file should be displayed.</li>
</ul>
</li>
<li>
<p>Back in your Linux terminal, create the Oracle config file:</p>
</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">nano $HOME/.oci/config</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Paste the config file content here. Then update:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">key_file: &lt;path_to_your_private_key&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>to</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">key_file: ~/.oci/privatekeypcks8.pem</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Save and exit the file:</p>
<ul>
<li>Press <code>CTRL + X</code></li>
<li>Press <code>y</code></li>
<li>Press <code>Enter</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="23-oke-entity-permissions-1">2.3. OKE Entity Permissions<a href="#23-oke-entity-permissions-1" class="hash-link" aria-label="Direct link to 2.3. OKE Entity Permissions" title="Direct link to 2.3. OKE Entity Permissions">​</a></h2>
<p>Follow the steps in this section if you plan to use Cambria Cluster&#x27;s autoscaler feature.<br>
<!-- -->OKE cluster entities need specific permissions to create and manage Oracle Cloud instances.</p>
<ol>
<li>
<p>In Oracle Cloud Dashboard:</p>
<ul>
<li>Go to <strong>Identity &gt; Domains</strong>, select the domain for the OKE cluster.</li>
<li>Go to <strong>Dynamic Groups</strong>.</li>
</ul>
</li>
<li>
<p>Create a new Dynamic Group with the rule (replace <code>[CT_ID]</code> with your compartment ID):</p>
</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">All {instance.compartment.id = &#x27;[CT_ID]&#x27;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>Save the Dynamic Group.</li>
<li>Navigate to <strong>Identity &gt; Policies</strong> and create a new policy in the same compartment:</li>
</ol>
<p>(Replace <code>[DG]</code> and <code>[CT]</code> with the dynamic group name and compartment name.)</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to read clusters in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to manage cluster-family in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to use subnets in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to use vnics in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to inspect compartments in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to manage cluster-node-pools in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to manage instance-family in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to manage virtual-network-family in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to use network-security-groups in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to use private-ips in compartment [CT]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Allow dynamic-group [DG] to use public-ips in compartment [CT]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-create-kubernetes-cluster-1">3. Create Kubernetes Cluster<a href="#3-create-kubernetes-cluster-1" class="hash-link" aria-label="Direct link to 3. Create Kubernetes Cluster" title="Direct link to 3. Create Kubernetes Cluster">​</a></h2>
<p>The following section provides the basic steps needed to create a Kubernetes Cluster on Oracle Cloud.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-create-cluster-and-cambria-manager-nodes-1">3.1. Create Cluster and Cambria Manager Nodes<a href="#31-create-cluster-and-cambria-manager-nodes-1" class="hash-link" aria-label="Direct link to 3.1. Create Cluster and Cambria Manager Nodes" title="Direct link to 3.1. Create Cluster and Cambria Manager Nodes">​</a></h3>
<ol>
<li>In the Oracle Cloud account where the cluster will be created, search for the service Kubernetes Clusters (OKE)</li>
<li>In the List Scope section, choose the Compartment where the kubernetes cluster should be added. This should match the compartment that was used in section 2.2. OKE Entity Permissions</li>
<li>Create cluster and select Quick create. Click on Submit to apply the changes</li>
<li>Set kubernetes cluster details up to the Shape and image section (see the example below):<!-- -->
<ul>
<li><strong>Name</strong>: cambria-cluster</li>
<li><strong>Kubernetes Version</strong>: v1.32.1</li>
<li><strong>Kubernetes API endpoint</strong>: Public endpoint</li>
<li><strong>Node type</strong>: Managed</li>
<li><strong>Kubernetes worker nodes</strong>: Private workers</li>
</ul>
</li>
<li>In the Shape and image section, choose the type of machine for your management (Cambria Cluster) nodes.<!-- -->
<ul>
<li>Cambria Cluster manages scheduling and handling Cambria FTC encoding / packaging programs.</li>
<li>You will want to think about how many programs you will intend to run and choose an instance type accordingly.</li>
<li>Node shape can be anything. In Capella testing, we mainly use the VM.Standard.E3.Flex option.</li>
<li>For standard workflows, our minimum requirement currently is 4 OCPUs and 8GB of RAM</li>
<li>It is recommended to set the node count to 3 for redundancy.</li>
<li>Example values:<!-- -->
<ul>
<li><strong>Node shape</strong>: VM.Standard.E3.Flex</li>
<li><strong>OCPUs</strong>: 4</li>
<li><strong>Memory (GB)</strong>: 8</li>
<li><strong>Image</strong>: Oracle Linux 8</li>
</ul>
</li>
</ul>
</li>
<li>Verify the details of your OKE cluster and Create cluster. Wait for all of the tasks to say complete and continue. Wait until the Cluster status says Running. This could take 10+ minutes.</li>
<li>Once the OKE cluster is running:<br>
<!-- -->a. Access cluster and open the Local Access instructions<br>
<!-- -->b. Step 1 can be skipped unless kubeconfig directory is needed<br>
<!-- -->c. Set cluster name:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">export CLUSTER_NAME=cambria-cluster</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->d. For step 2, choose the VCN-Native public endpoint and save as:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$CLUSTER_NAME-kubeconfig.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->e. For step 3, use the kubeconfig file from the previous step:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cambria-cluster-kubeconfig.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Verify node access:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get nodes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-optional-restricting-cambria-ftc-encoder-designated-nodes-via-exclusion-label">3.2. (Optional) Restricting Cambria FTC Encoder Designated Nodes via Exclusion Label<a href="#32-optional-restricting-cambria-ftc-encoder-designated-nodes-via-exclusion-label" class="hash-link" aria-label="Direct link to 3.2. (Optional) Restricting Cambria FTC Encoder Designated Nodes via Exclusion Label" title="Direct link to 3.2. (Optional) Restricting Cambria FTC Encoder Designated Nodes via Exclusion Label">​</a></h3>
<p>Use this if precise control over Cambria FTC deployment is needed.</p>
<p><strong>Overview:</strong><br>
<!-- -->By default, Cambria management and encoding apps are on separate nodes, based on instance type. If you want finer control (e.g., prevent some nodes from running FTC), use an exclusion label.</p>
<p><strong>Steps:</strong></p>
<ol>
<li>Identify FTC-restricted nodes:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get nodes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Label them:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl label node &lt;node-name&gt; no-capella-worker=true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>To label node pools (applies to future nodes):<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">oci ce node-pool update --node-pool-id=&lt;node-pool-id&gt; --initial-node-labels=&#x27;[{&quot;key&quot;: &quot;no-capella-worker&quot;, &quot;value&quot;: &quot;true&quot;}]&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Set the Helm values option:<!-- -->
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">workersCanUseManagerNodes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-create-cambria-ftc-nodes">3.3. Create Cambria FTC Nodes<a href="#33-create-cambria-ftc-nodes" class="hash-link" aria-label="Direct link to 3.3. Create Cambria FTC Nodes" title="Direct link to 3.3. Create Cambria FTC Nodes">​</a></h3>
<p>Skip this step if planning to use Cambria FTC&#x27;s Autoscaler feature.</p>
<p>For initial testing purposes, it is recommended (but not required) that only one Cambria FTC node is created. If more FTC nodes are needed, they can be deployed at any time using the same steps below. Keep in mind that there is a limit to how many FTC nodes can be created. This limit can be modified in a configuration file that is created later in this guide.</p>
<p><strong>Information / Recommendation</strong></p>
<p>This section will require an understanding of the required encoding workflows, the complexity of the transcoding jobs, volume, etc. This is needed in order to determine the strength and type of instance(s) that will be needed to run the transcodes.</p>
<ul>
<li>Node shape can be anything. In Capella testing, we mainly use the <code>VM.Standard.E4.Flex</code> option for the FTC nodes.</li>
<li>For standard workflows, our minimum requirement currently is <strong>8 OCPUs and 16GB of RAM</strong>.</li>
</ul>
<p><strong>Steps:</strong></p>
<ol>
<li>
<p>In your Kubernetes cluster dashboard on the Oracle Cloud page, look for the <strong>Resources</strong> section and select <strong>Node pools</strong>.</p>
</li>
<li>
<p>Click <strong>Add node pool</strong> and fill out the following details:</p>
<p>For this guide, we have set the following values:</p>
<ul>
<li><strong>Name:</strong> e.g., <code>cambria-worker-nodes</code></li>
<li><strong>Compartment:</strong> The compartment where your OKE cluster is in</li>
<li><strong>Node type:</strong> Managed</li>
<li><strong>Version:</strong> v1.31.1</li>
<li><strong>Node Placement Configuration:</strong> Choose all of the default options</li>
<li><strong>Node shape:</strong> VM.Standard.E4.Flex</li>
<li><strong>Select the number of OCPUs:</strong> 8</li>
<li><strong>Amount of memory (GB):</strong> 16</li>
<li><strong>Image:</strong> Oracle Linux</li>
<li><strong>Node count:</strong> 1</li>
<li><strong>Pod communication:</strong> Choose one of the subnets that allows public IP addresses</li>
</ul>
</li>
<li>
<p>Add the node pool and wait for it to be fully created (and with a <strong>Node pool status</strong> of <em>Active</em>).</p>
</li>
</ol>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="34-performance-metrics-and-logging">3.4. Performance Metrics and Logging<a href="#34-performance-metrics-and-logging" class="hash-link" aria-label="Direct link to 3.4. Performance Metrics and Logging" title="Direct link to 3.4. Performance Metrics and Logging">​</a></h3>
<p>This section is required for logging and other performance information about the Cambria applications.</p>
<p>Follow the steps in the document below to install Prometheus, Grafana, Loki, and Promtail:<br>
<a href="https://www.dropbox.com/scl/fi/x72bu2iypi86alyhf9wlr/Prometheus_Grafana_Setup_for_Cambria_Cluster_5_5_0_on_Oracle_Kubernetes.pdf?rlkey=0j7x2gxvp2rssv6swriw8xyd9&amp;st=flpje7vk&amp;dl=1" target="_blank" rel="noopener noreferrer">Prometheus &amp; Grafana Setup for Cambria Cluster 5.5.0</a></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-install-cambria-cluster-ftc-and-dependencies">4. Install Cambria Cluster, FTC, and Dependencies<a href="#4-install-cambria-cluster-ftc-and-dependencies" class="hash-link" aria-label="Direct link to 4. Install Cambria Cluster, FTC, and Dependencies" title="Direct link to 4. Install Cambria Cluster, FTC, and Dependencies">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-prerequisite-deploy-external-kubernetes-tools">4.1. Prerequisite: Deploy External Kubernetes Tools<a href="#41-prerequisite-deploy-external-kubernetes-tools" class="hash-link" aria-label="Direct link to 4.1. Prerequisite: Deploy External Kubernetes Tools" title="Direct link to 4.1. Prerequisite: Deploy External Kubernetes Tools">​</a></h3>
<p>There are a few tools that need to be deployed in order to make Cambria FTC / Cluster work properly.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="411-required-tools">4.1.1. Required Tools<a href="#411-required-tools" class="hash-link" aria-label="Direct link to 4.1.1. Required Tools" title="Direct link to 4.1.1. Required Tools">​</a></h4>
<ol>
<li>Run the following commands to deploy the pre-requisite tools for the Kubernetes cluster:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">./deployCambriaKubeDependencies.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Verify that resources are created and in an active / online state:<!-- -->
<ul>
<li>Pods should be in a <strong>Running</strong> STATUS and all containers in <strong>READY</strong> should be active</li>
<li>Services should have a <strong>CLUSTER-IP</strong> assigned</li>
<li>All other resources (e.g., replicasets, deployments, statefulsets, etc.) should have all desired resources active</li>
</ul>
</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get all -n cnpg-system</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get all -n argo-events</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get all -n cert-manager</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If any resources are still not ready, wait about a minute for them to complete. If still not working, contact the Capella support team.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="53-verify-applications-are-accessible">5.3. Verify Applications are Accessible<a href="#53-verify-applications-are-accessible" class="hash-link" aria-label="Direct link to 5.3. Verify Applications are Accessible" title="Direct link to 5.3. Verify Applications are Accessible">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="531-cambria-cluster-webui">5.3.1. Cambria Cluster WebUI<a href="#531-cambria-cluster-webui" class="hash-link" aria-label="Direct link to 5.3.1. Cambria Cluster WebUI" title="Direct link to 5.3.1. Cambria Cluster WebUI">​</a></h3>
<p><em>Skip this step if the WebUI was set to disabled in the Helm values configuration yaml file or the ingress will be used instead. For any issues, contact the Capella support team.</em></p>
<ol>
<li><strong>Get the WebUI address. A web browser is required to access the WebUI:</strong></li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="option-1-external-url-if-external-access-is-enabled">Option 1: External URL if External Access is Enabled<a href="#option-1-external-url-if-external-access-is-enabled" class="hash-link" aria-label="Direct link to Option 1: External URL if External Access is Enabled" title="Direct link to Option 1: External URL if External Access is Enabled">​</a></h4>
<p>Run the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get svc/cambriaclusterwebuiservice -n default -o=jsonpath=&quot;{&#x27;https://&#x27;}{.status.loadBalancer.ingress[0].ip}{&#x27;:8161&#x27;}{&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The response should look something like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">https://192.122.45.33:8161</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="option-2-non-external-url-access">Option 2: Non-External URL Access<a href="#option-2-non-external-url-access" class="hash-link" aria-label="Direct link to Option 2: Non-External URL Access" title="Direct link to Option 2: Non-External URL Access">​</a></h4>
<p>Run the following command to temporarily expose the WebUI via port-forwarding:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl port-forward -n default svc/cambriaclusterwebuiservice 8161:8161 --address=0.0.0.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The URL depends on the location of the web browser. If the web browser and the port-forward are on the same machine, use <code>localhost</code>. Otherwise, use the IP address of the machine with the port-forward:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">https://&lt;server&gt;:8161</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>In a web browser, enter the above URL. This should trigger an &quot;Unsafe&quot; page similar to the one below:</li>
</ol>
<p><img decoding="async" loading="lazy" alt="Screenshot" src="/assets/images/01_filter_icon-74e5813eade408ffadb6b3408975b2a9.png" width="536" height="404" class="img_ev3q"></p>
<ol start="3">
<li>Click on Advanced and Proceed to [ EXTERNAL IP ] (unsafe). This will show the login page.</li>
</ol>
<p><img decoding="async" loading="lazy" alt="Screenshot" src="/assets/images/02_filter_icon-294d9dbecf5c4ee4f4bbe34ba8f33041.png" width="947" height="129" class="img_ev3q"></p>
<ol start="4">
<li>
<p>Log in using the credentials created in the Helm values yaml file (See cambriaClusterWebUIUser)</p>
</li>
<li>
<p>Verify that the License Status is valid for at least either the Primary or Backup. Preferably, both Primary and
Backup should be valid. If there are issues with the license, wait a few minutes as sometimes it takes a few minutes
to properly update. If still facing issues, contact the Capella support team</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-updating--upgrading-cambria-cluster--ftc">7. Updating / Upgrading Cambria Cluster / FTC<a href="#7-updating--upgrading-cambria-cluster--ftc" class="hash-link" aria-label="Direct link to 7. Updating / Upgrading Cambria Cluster / FTC" title="Direct link to 7. Updating / Upgrading Cambria Cluster / FTC">​</a></h2>
<p>There are currently two ways to update / upgrade Cambria FTC / Cluster in the Kubernetes environment.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="71-option-1-normal-upgrade-via-helm-upgrade">7.1. Option 1: Normal Upgrade via Helm Upgrade<a href="#71-option-1-normal-upgrade-via-helm-upgrade" class="hash-link" aria-label="Direct link to 7.1. Option 1: Normal Upgrade via Helm Upgrade" title="Direct link to 7.1. Option 1: Normal Upgrade via Helm Upgrade">​</a></h3>
<p>This upgrade method is best for when changing version numbers, secrets such as the license key, WebUI users, etc., and Cambria FTC / Cluster-specific settings such as the max number of pods, replicas, etc.</p>
<blockquote>
<p><strong>Warning! Known Issues</strong></p>
<ul>
<li><code>pgClusterPassword</code> cannot currently be updated via this method.</li>
<li>Changing the PostgreSQL version also cannot be updated via this method.</li>
</ul>
</blockquote>
<p><strong>Steps:</strong></p>
<ol>
<li>Edit the Helm configuration file (YAML) for your Kubernetes environment or create a new configuration file and edit the new file. See section 4.2.</li>
<li>Run:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm upgrade capella-cluster capella-cluster.tgz --values cambriaClusterConfig.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Restart the deployments:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl rollout restart deployment cambriaclusterapp cambriaclusterwebui -n default</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl rollout restart deployment cambriaftcapp -n capella-worker</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Wait a few minutes for the Kubernetes pods to install properly.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="72-option-2-upgrade-via-cambria-cluster-reinstallation">7.2. Option 2: Upgrade via Cambria Cluster Reinstallation<a href="#72-option-2-upgrade-via-cambria-cluster-reinstallation" class="hash-link" aria-label="Direct link to 7.2. Option 2: Upgrade via Cambria Cluster Reinstallation" title="Direct link to 7.2. Option 2: Upgrade via Cambria Cluster Reinstallation">​</a></h3>
<p>This upgrade option is the most reliable. It uninstalls all the Cambria FTC and Cluster components, then reinstalls with the new Helm chart and values file. <strong>This deletes the database and all jobs in the Cambria Cluster UI.</strong></p>
<p><strong>Steps:</strong></p>
<ol>
<li>Follow section 4.2 to prepare a new <code>cambriaClusterConfig.yaml</code>.</li>
<li>Uninstall the current deployment:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm uninstall capella-cluster --wait</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Reinstall the Helm configuration file:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm upgrade --install capella-cluster capella-cluster.tgz --values cambriaClusterConfig.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="73-upgrade-verification">7.3. Upgrade Verification<a href="#73-upgrade-verification" class="hash-link" aria-label="Direct link to 7.3. Upgrade Verification" title="Direct link to 7.3. Upgrade Verification">​</a></h3>
<p>Use the steps in section 5.0 to verify the upgrade.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="8-deleting-kubernetes-cluster">8. Deleting Kubernetes Cluster<a href="#8-deleting-kubernetes-cluster" class="hash-link" aria-label="Direct link to 8. Deleting Kubernetes Cluster" title="Direct link to 8. Deleting Kubernetes Cluster">​</a></h2>
<p>To safely delete your Kubernetes environment:</p>
<ol>
<li>Remove the Helm deployments:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm uninstall capella-cluster -n default --wait</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>If any volumes remain, delete them:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get pv -o name | awk -F&#x27;/&#x27; &#x27;{print $2}&#x27; | xargs -I{} kubectl patch pv {} -p=&#x27;{&quot;spec&quot;: {&quot;persistentVolumeReclaimPolicy&quot;: &quot;Delete&quot;}}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>If <code>ingress-nginx</code> was deployed, delete the namespace:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl delete namespace ingress-nginx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Follow the delete steps from the document in section 3.4.</li>
<li>In Oracle Cloud dashboard, go to OKE, find your cluster, and delete it.</li>
<li>Wait for all cluster resources to be deleted.</li>
<li>Go to Virtual Cloud Networks and delete any VCNs created by OKE (they will include the cluster name).</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="9-quick-reference-installation-testing-and-teardown">9. Quick Reference: Installation, Testing, and Teardown<a href="#9-quick-reference-installation-testing-and-teardown" class="hash-link" aria-label="Direct link to 9. Quick Reference: Installation, Testing, and Teardown" title="Direct link to 9. Quick Reference: Installation, Testing, and Teardown">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="91-installation-deploy-from-linux-to-oracle-kubernetes">9.1. Installation (Deploy from Linux to Oracle Kubernetes)<a href="#91-installation-deploy-from-linux-to-oracle-kubernetes" class="hash-link" aria-label="Direct link to 9.1. Installation (Deploy from Linux to Oracle Kubernetes)" title="Direct link to 9.1. Installation (Deploy from Linux to Oracle Kubernetes)">​</a></h3>
<p>This installation will be basic and not include optional content. For any optional content, review the steps in the previous sections.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="911-prerequisites-and-administration">9.1.1. Prerequisites and Administration<a href="#911-prerequisites-and-administration" class="hash-link" aria-label="Direct link to 9.1.1. Prerequisites and Administration" title="Direct link to 9.1.1. Prerequisites and Administration">​</a></h4>
<p>Review and execute the steps in section 2. Prerequisites</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="912-installation">9.1.2. Installation<a href="#912-installation" class="hash-link" aria-label="Direct link to 9.1.2. Installation" title="Direct link to 9.1.2. Installation">​</a></h4>
<p>The instructions below install the default Kubernetes components, including the default OKE VPC. Optional components like Labeling will not be configured. For any deviations or help, consult sections 1–4.</p>
<ol>
<li>Create a Helm values file and edit it using the table from 4.2. Creating and Editing Helm Configuration File<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm show values capella-cluster.tgz &gt; cambriaClusterConfig.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>In the Oracle Cloud dashboard, create a new Kubernetes Cluster (OKE) with at least 1 node for Cambria Cluster. Access the cluster and follow the Local Access instructions to download the kubeconfig file for the Kubernetes Cluster.</li>
<li>Run the following with your kubeconfig file:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">export KUBECONFIG=&lt;kubeconfig-file&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>If not using Cambria FTC autoscaler, in your Kubernetes cluster dashboard on the Oracle Cloud page, look for the <strong>Resources</strong> section and select <strong>Node pools</strong>. Add a node pool and fill out the node pool details (See 3.3. Create Cambria FTC Nodes for more information).</li>
<li>Install monitoring and Prometheus tools from section 3.4. Performance Metrics and Logging.</li>
<li>Install Kubernetes prerequisites:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">./deployCambriaKubeDependencies.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>(Optional) Install Ingress:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.12.1/deploy/static/provider/oracle/deploy.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Wait at least 5 minutes for prerequisites to fully install before moving on to the deploy step. Then, deploy Cambria Cluster / FTC:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm upgrade --install capella-cluster capella-cluster.tgz --values cambriaClusterConfig.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Wait a few minutes for installation to complete. Review the verification steps in 5. Verify Cambria FTC / Cluster Installation.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="92-upgrades-and-teardown">9.2. Upgrades and Teardown<a href="#92-upgrades-and-teardown" class="hash-link" aria-label="Direct link to 9.2. Upgrades and Teardown" title="Direct link to 9.2. Upgrades and Teardown">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="921-cambria-ftc--cambria-cluster-andor-the-kubernetes-cluster-upgrades">9.2.1. Cambria FTC | Cambria Cluster and/or the Kubernetes Cluster Upgrades<a href="#921-cambria-ftc--cambria-cluster-andor-the-kubernetes-cluster-upgrades" class="hash-link" aria-label="Direct link to 9.2.1. Cambria FTC | Cambria Cluster and/or the Kubernetes Cluster Upgrades" title="Direct link to 9.2.1. Cambria FTC | Cambria Cluster and/or the Kubernetes Cluster Upgrades">​</a></h4>
<p>Edit the <code>capellaClusterConfig.yaml</code> file and then run the following commands (See section 7. Updating / Upgrading Kubernetes Cluster for more details and warnings):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">./quickUpgradeCambriaCluster.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="922-cambria-ftc--cambria-cluster-uninstall">9.2.2. Cambria FTC | Cambria Cluster Uninstall<a href="#922-cambria-ftc--cambria-cluster-uninstall" class="hash-link" aria-label="Direct link to 9.2.2. Cambria FTC | Cambria Cluster Uninstall" title="Direct link to 9.2.2. Cambria FTC | Cambria Cluster Uninstall">​</a></h4>
<p>If just wanting to uninstall Cambria Cluster and Cambria FTC, run the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm uninstall capella-cluster --wait</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="923-kubernetes-cluster-teardown">9.2.3. Kubernetes Cluster Teardown<a href="#923-kubernetes-cluster-teardown" class="hash-link" aria-label="Direct link to 9.2.3. Kubernetes Cluster Teardown" title="Direct link to 9.2.3. Kubernetes Cluster Teardown">​</a></h4>
<p>As this involves several components, it is best to do the cluster teardown using the steps in section 8. Deleting Kubernetes Cluster.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="10-quick-reference-helpful-commandsinfo-for-after-installation">10. Quick Reference: Helpful Commands/Info for After Installation<a href="#10-quick-reference-helpful-commandsinfo-for-after-installation" class="hash-link" aria-label="Direct link to 10. Quick Reference: Helpful Commands/Info for After Installation" title="Direct link to 10. Quick Reference: Helpful Commands/Info for After Installation">​</a></h2>
<p>This section provides helpful commands and other information that may be useful after the installation process such as how to get the WebUI address, what ports are available to use for incoming sources, etc.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="oracle-cloud-kubernetes-kubeconfig-file--for-use-with-kubectl-">Oracle Cloud Kubernetes Kubeconfig File [ For use with kubectl ]<a href="#oracle-cloud-kubernetes-kubeconfig-file--for-use-with-kubectl-" class="hash-link" aria-label="Direct link to Oracle Cloud Kubernetes Kubeconfig File [ For use with kubectl ]" title="Direct link to Oracle Cloud Kubernetes Kubeconfig File [ For use with kubectl ]">​</a></h3>
<ol>
<li>Log in to the Oracle Cloud dashboard and search for <strong>OKE</strong>. Select your cluster from the list and click into it for more details.</li>
<li>Access Cluster and follow the <strong>Local Access</strong> instruction.<!-- -->
<blockquote>
<p><strong>Note:</strong> You will need to use a Linux machine that already has an OCI config file. If you do not have a config file, follow the steps in section 2.1.1. Create an Oracle Cloud API Key.</p>
</blockquote>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cambria-cluster-webui">Cambria Cluster WebUI<a href="#cambria-cluster-webui" class="hash-link" aria-label="Direct link to Cambria Cluster WebUI" title="Direct link to Cambria Cluster WebUI">​</a></h3>
<ol>
<li>Run the following command to get the WebUI address:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get service/cambriaclusterwebuiservice -n default -o=jsonpath=&quot;{&#x27;https://&#x27;}{.status.loadBalancer.ingress[0].ip}{&#x27;:8161&#x27;}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>To log in to the WebUI, the credentials are located in the Helm values <code>.yaml</code> file that you configure (See section 3.2. Creating and Editing Helm Configuration File).</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cambria-cluster-rest-api">Cambria Cluster REST API<a href="#cambria-cluster-rest-api" class="hash-link" aria-label="Direct link to Cambria Cluster REST API" title="Direct link to Cambria Cluster REST API">​</a></h3>
<ol>
<li>Run the following command to get the base REST API Web Address:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get service/cambriaclusterservice -n default -o=jsonpath=&quot;{&#x27;https://&#x27;}{.status.loadBalancer.ingress[0].ip}{&#x27;:8650&#x27;}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->The REST API URL should look similar to this:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">https://23.45.226.151:8650/CambriaFC/v1/Jobs?usertoken=12345678-1234-43f8-b4fc-53afd3893d5f</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">## Cambria FTC Instance External IP</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>In the Cambria Cluster WebUI, go to the <strong>Machines</strong> tab and copy the name of the machine (pod)</li>
<li>Run the following commands with the name of the machine (aka. <code>&lt;pod-name&gt;</code>):</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Replace &lt;pod-name&gt; with your pod name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get pod/&lt;pod-name&gt; -n capella-worker -o=jsonpath=&quot;{.spec.nodeName}&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Replace &lt;node-name&gt; with the result from the above command</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get node/&lt;node-name&gt; -n capella-worker -o=jsonpath=&quot;{.status.addresses[1].address}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="leader-cambria-cluster-pod">Leader Cambria Cluster Pod<a href="#leader-cambria-cluster-pod" class="hash-link" aria-label="Direct link to Leader Cambria Cluster Pod" title="Direct link to Leader Cambria Cluster Pod">​</a></h2>
<p>Run the following command to get the name of the Cambria Cluster leader pod:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get lease -o=jsonpath=&quot;{.items[0].spec.holderIdentity}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="remote-access-to-kubernetes-pod">Remote Access to Kubernetes Pod<a href="#remote-access-to-kubernetes-pod" class="hash-link" aria-label="Direct link to Remote Access to Kubernetes Pod" title="Direct link to Remote Access to Kubernetes Pod">​</a></h2>
<p>The general command for remote accessing a pod is:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl exec -it &lt;pod-name&gt; -n &lt;namespace&gt; -- /bin/bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example with Cambria FTC:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl exec -it cambriaftcapp-5c79586784-wbfvf -n capella-worker -- /bin/bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="extracting-cambria-cluster--cambria-ftc--cambria-license-logs">Extracting Cambria Cluster | Cambria FTC | Cambria License Logs<a href="#extracting-cambria-cluster--cambria-ftc--cambria-license-logs" class="hash-link" aria-label="Direct link to Extracting Cambria Cluster | Cambria FTC | Cambria License Logs" title="Direct link to Extracting Cambria Cluster | Cambria FTC | Cambria License Logs">​</a></h2>
<p>In a machine that has <code>kubectl</code> and the <code>kubeconfig</code> file for your Kubernetes cluster, open a terminal window and make sure to set the <code>KUBECONFIG</code> environment variable to the path of your kubeconfig file. Then run one or more of the following commands depending on what types of logs you need (or that Capella needs). You will get a folder full of logs. Compress these logs into one zip file and send it to Capella:</p>
<p><code>&lt;pod-name&gt;</code>: the name of the pod to grab logs from (e.g. <code>cambriaftcapp-5c79586784-wbfvf</code>)</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Cambria FTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl cp &lt;pod-name&gt;:/opt/capella/Cambria/Logs ./CambriaFTCLogs -n capella-worker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Cambria Cluster</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl cp &lt;pod-name&gt;:/opt/capella/CambriaCluster/Logs ./CambriaClusterLogs -n default</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Cambria License Manager (Cambria FTC)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl cp &lt;pod-name&gt;:/opt/capella/CambriaLicenseManager/Logs ./CambriaFTCLicLogs -n capella-worker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Cambria License Manager (Cambria Cluster)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl cp &lt;pod-name&gt;:/opt/capella/CambriaLicenseManager/Logs ./CambriaClusterLicLogs -n default</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="copy-files-to-cambria-ftc--cluster-pod">Copy File(s) to Cambria FTC / Cluster Pod<a href="#copy-files-to-cambria-ftc--cluster-pod" class="hash-link" aria-label="Direct link to Copy File(s) to Cambria FTC / Cluster Pod" title="Direct link to Copy File(s) to Cambria FTC / Cluster Pod">​</a></h2>
<p>In some cases, you might need to copy files to a Cambria FTC / Cluster pod. For example, you have an MP4 file you want to use as a source directly from the encoding machine’s file system. In this case, to copy the file over to the Cambria FTC / Cluster pod, do the following:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl cp &lt;host-file-path&gt; &lt;pod-name&gt;:&lt;path-inside-container&gt; -n &lt;namespace&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Copy file to Cambria FTC pod</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl cp /mnt/n/MySource.mp4 cambriaftcapp-7c55887db9-t42v7:/var/media/MySource.mp4 -n capella-worker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Copy file to Cambria Cluster pod</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl cp C:\MyKeys\MyKeyFile.key cambriaclusterapp-695dcc848f-vjpc7:/var/keys/MyKeyFile.key -n default</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Copy directory to Cambria FTC container</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl cp /mnt/n/MyMediaFiles cambriaftcapp-7c55887db9-t42v7:/var/temp/mediafiles -n capella-worker</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="restarting--re-creating-pods">Restarting / Re-creating Pods<a href="#restarting--re-creating-pods" class="hash-link" aria-label="Direct link to Restarting / Re-creating Pods" title="Direct link to Restarting / Re-creating Pods">​</a></h2>
<p><code>kubectl</code> does not currently have a way to restart pods. Instead, a pod will need to be “restarted” by deleting the pod, which causes a new pod to be created or an existing pod to take over the containers.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl delete pod &lt;pod-name&gt; -n &lt;namespace&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Delete Cambria FTC Container</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl delete pod cambriaftcapp-7c55887db9-t42v7 -n capella-worker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Delete Cambria Cluster Container</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl delete pod cambriaclusterapp-695dcc848f-vjpc7 -n default</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="11-glossary">11. Glossary<a href="#11-glossary" class="hash-link" aria-label="Direct link to 11. Glossary" title="Direct link to 11. Glossary">​</a></h2>
<p>This glossary provides a brief definition / description of some of the more common terms found in this guide.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="111-kubernetes">11.1. Kubernetes<a href="#111-kubernetes" class="hash-link" aria-label="Direct link to 11.1. Kubernetes" title="Direct link to 11.1. Kubernetes">​</a></h3>
<p>For Kubernetes terms, please refer to the Kubernetes Glossary:<br>
<a href="https://kubernetes.io/docs/reference/glossary/?fundamental=true" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/reference/glossary/?fundamental=true</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="112-third-party-tools">11.2. Third-Party Tools<a href="#112-third-party-tools" class="hash-link" aria-label="Direct link to 11.2. Third-Party Tools" title="Direct link to 11.2. Third-Party Tools">​</a></h3>
<ul>
<li><strong>Argo</strong>: A collection of tools for orchestrating parallel jobs in a Kubernetes environment.</li>
<li><strong>Argo-Events</strong>: An Argo tool that triggers specific Kubernetes functions based on events from other dependencies such as webhook, s3, etc.</li>
<li><strong>Cert-Manager</strong>: Automates the process of retrieving and managing TLS certificates, renewing them as needed.</li>
<li><strong>Helm</strong>: A tool for deploying and managing (install, update, delete) Kubernetes Cluster applications.</li>
<li><strong>Ingress-Nginx</strong>: Uses Nginx as a reverse proxy and load balancer to apply domain name use to Kubernetes services (e.g., REST API, WebUI).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="113-capella-applications">11.3. Capella Applications<a href="#113-capella-applications" class="hash-link" aria-label="Direct link to 11.3. Capella Applications" title="Direct link to 11.3. Capella Applications">​</a></h3>
<ul>
<li><strong>cambriaclusterapp</strong>: The Cambria Cluster application container, found in all <code>cambriaclusterapp-xyz</code> pods.</li>
<li><strong>cambriaftautoscale</strong>: A load-balancer-like container that spawns Cambria FTC-specific nodes when jobs appear in the queue.</li>
<li><strong>cambriaftcapp</strong>: The Cambria FTC application container, found in all <code>cambriaftcapp-xyz</code> pods.</li>
<li><strong>cambriaftcconnect</strong>: Automatically connects Cambria FTC instances to Cambria Cluster, present in all <code>cambriaftcapp-xyz</code> pods.</li>
<li><strong>cambrialeaderelector</strong>: Handles Cambria Cluster replication by electing the primary instance, found in all <code>cambriaclusterapp-xyz</code> pods.</li>
<li><strong>pgcluster-capella</strong>: A pod holding the PostgreSQL database used by Cambria Cluster.</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Cambria FTC/Installation Guides/Kubernetes/Akamai/Akamai-Kubernetes/cambria-cluster-ftc-akamai"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Cambria Cluster / FTC 5.5.0 - Akamai Kubernetes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Cambria FTC/Installation Guides/Windows/placeholder"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Document Coming Soon</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#document-history" class="table-of-contents__link toc-highlight">Document History</a><ul><li><a href="#limitations-and-security-information" class="table-of-contents__link toc-highlight">Limitations and Security Information</a></li></ul></li><li><a href="#️-important-before-you-begin" class="table-of-contents__link toc-highlight">⚠️ Important: Before You Begin</a></li><li><a href="#️-critical-information-read-before-proceeding-with-installation" class="table-of-contents__link toc-highlight">⚠️ Critical Information: Read Before Proceeding with Installation</a></li><li><a href="#1-overview" class="table-of-contents__link toc-highlight">1. Overview</a><ul><li><a href="#11-cambria-cluster--ftc-kubernetes-deployment" class="table-of-contents__link toc-highlight">1.1. Cambria Cluster / FTC Kubernetes Deployment</a></li><li><a href="#12-resource-usage" class="table-of-contents__link toc-highlight">1.2. Resource Usage</a></li><li><a href="#13-oracle-cloud-machine-information-and-benchmark" class="table-of-contents__link toc-highlight">1.3. Oracle Cloud Machine Information and Benchmark</a></li><li><a href="#14-cambria-application-access" class="table-of-contents__link toc-highlight">1.4. Cambria Application Access</a></li><li><a href="#15-firewall-information" class="table-of-contents__link toc-highlight">1.5. Firewall Information</a></li></ul></li><li><a href="#2-prerequisites" class="table-of-contents__link toc-highlight">2. Prerequisites</a><ul><li><a href="#21-tools-kubectl-helm-and-oci-cli" class="table-of-contents__link toc-highlight">2.1. Tools: Kubectl, Helm, and OCI CLI</a></li><li><a href="#211-installation" class="table-of-contents__link toc-highlight">2.1.1. Installation</a></li><li><a href="#212-verification" class="table-of-contents__link toc-highlight">2.1.2. Verification</a></li></ul></li><li><a href="#22-create-an-oracle-cloud-api-key" class="table-of-contents__link toc-highlight">2.2. Create an Oracle Cloud API Key</a><ul><li><a href="#steps" class="table-of-contents__link toc-highlight">Steps:</a></li></ul></li><li><a href="#23-oke-entity-permissions" class="table-of-contents__link toc-highlight">2.3. OKE Entity Permissions</a></li><li><a href="#3-create-kubernetes-cluster" class="table-of-contents__link toc-highlight">3. Create Kubernetes Cluster</a><ul><li><a href="#31-create-cluster-and-cambria-manager-nodes" class="table-of-contents__link toc-highlight">3.1. Create Cluster and Cambria Manager Nodes</a></li></ul></li><li><a href="#12-resource-usage-1" class="table-of-contents__link toc-highlight">1.2. Resource Usage</a></li><li><a href="#13-oracle-cloud-machine-information-and-benchmark-1" class="table-of-contents__link toc-highlight">1.3. Oracle Cloud Machine Information and Benchmark</a><ul><li><a href="#benchmark-job-information-1" class="table-of-contents__link toc-highlight">Benchmark Job Information</a></li><li><a href="#vm-vmstandarde4flex---8-ocpus--32-gb-ram-amd-epyc-7j13" class="table-of-contents__link toc-highlight">VM: VM.Standard.E4.Flex - 8 OCPUs + 32 GB RAM [AMD EPYC 7J13]</a></li></ul></li><li><a href="#141-external-access-via-tcp-load-balancer-1" class="table-of-contents__link toc-highlight">1.4.1. External Access via TCP Load Balancer</a></li><li><a href="#142-http-ingress-via-reverse-proxy-1" class="table-of-contents__link toc-highlight">1.4.2. HTTP Ingress via Reverse Proxy</a></li><li><a href="#21-tools-kubectl-helm-and-oci-cli-1" class="table-of-contents__link toc-highlight">2.1. Tools: Kubectl, Helm, and OCI CLI</a><ul><li><a href="#211-installation-1" class="table-of-contents__link toc-highlight">2.1.1. Installation</a></li><li><a href="#212-verification-1" class="table-of-contents__link toc-highlight">2.1.2. Verification</a></li></ul></li><li><a href="#22-create-an-oracle-cloud-api-key-1" class="table-of-contents__link toc-highlight">2.2. Create an Oracle Cloud API Key</a></li><li><a href="#23-oke-entity-permissions-1" class="table-of-contents__link toc-highlight">2.3. OKE Entity Permissions</a></li><li><a href="#3-create-kubernetes-cluster-1" class="table-of-contents__link toc-highlight">3. Create Kubernetes Cluster</a><ul><li><a href="#31-create-cluster-and-cambria-manager-nodes-1" class="table-of-contents__link toc-highlight">3.1. Create Cluster and Cambria Manager Nodes</a></li><li><a href="#32-optional-restricting-cambria-ftc-encoder-designated-nodes-via-exclusion-label" class="table-of-contents__link toc-highlight">3.2. (Optional) Restricting Cambria FTC Encoder Designated Nodes via Exclusion Label</a></li><li><a href="#33-create-cambria-ftc-nodes" class="table-of-contents__link toc-highlight">3.3. Create Cambria FTC Nodes</a></li><li><a href="#34-performance-metrics-and-logging" class="table-of-contents__link toc-highlight">3.4. Performance Metrics and Logging</a></li></ul></li><li><a href="#4-install-cambria-cluster-ftc-and-dependencies" class="table-of-contents__link toc-highlight">4. Install Cambria Cluster, FTC, and Dependencies</a><ul><li><a href="#41-prerequisite-deploy-external-kubernetes-tools" class="table-of-contents__link toc-highlight">4.1. Prerequisite: Deploy External Kubernetes Tools</a></li></ul></li><li><a href="#53-verify-applications-are-accessible" class="table-of-contents__link toc-highlight">5.3. Verify Applications are Accessible</a><ul><li><a href="#531-cambria-cluster-webui" class="table-of-contents__link toc-highlight">5.3.1. Cambria Cluster WebUI</a></li></ul></li><li><a href="#7-updating--upgrading-cambria-cluster--ftc" class="table-of-contents__link toc-highlight">7. Updating / Upgrading Cambria Cluster / FTC</a><ul><li><a href="#71-option-1-normal-upgrade-via-helm-upgrade" class="table-of-contents__link toc-highlight">7.1. Option 1: Normal Upgrade via Helm Upgrade</a></li><li><a href="#72-option-2-upgrade-via-cambria-cluster-reinstallation" class="table-of-contents__link toc-highlight">7.2. Option 2: Upgrade via Cambria Cluster Reinstallation</a></li><li><a href="#73-upgrade-verification" class="table-of-contents__link toc-highlight">7.3. Upgrade Verification</a></li></ul></li><li><a href="#8-deleting-kubernetes-cluster" class="table-of-contents__link toc-highlight">8. Deleting Kubernetes Cluster</a></li><li><a href="#9-quick-reference-installation-testing-and-teardown" class="table-of-contents__link toc-highlight">9. Quick Reference: Installation, Testing, and Teardown</a><ul><li><a href="#91-installation-deploy-from-linux-to-oracle-kubernetes" class="table-of-contents__link toc-highlight">9.1. Installation (Deploy from Linux to Oracle Kubernetes)</a></li><li><a href="#92-upgrades-and-teardown" class="table-of-contents__link toc-highlight">9.2. Upgrades and Teardown</a></li></ul></li><li><a href="#10-quick-reference-helpful-commandsinfo-for-after-installation" class="table-of-contents__link toc-highlight">10. Quick Reference: Helpful Commands/Info for After Installation</a><ul><li><a href="#oracle-cloud-kubernetes-kubeconfig-file--for-use-with-kubectl-" class="table-of-contents__link toc-highlight">Oracle Cloud Kubernetes Kubeconfig File [ For use with kubectl ]</a></li><li><a href="#cambria-cluster-webui" class="table-of-contents__link toc-highlight">Cambria Cluster WebUI</a></li><li><a href="#cambria-cluster-rest-api" class="table-of-contents__link toc-highlight">Cambria Cluster REST API</a></li></ul></li><li><a href="#leader-cambria-cluster-pod" class="table-of-contents__link toc-highlight">Leader Cambria Cluster Pod</a></li><li><a href="#remote-access-to-kubernetes-pod" class="table-of-contents__link toc-highlight">Remote Access to Kubernetes Pod</a></li><li><a href="#extracting-cambria-cluster--cambria-ftc--cambria-license-logs" class="table-of-contents__link toc-highlight">Extracting Cambria Cluster | Cambria FTC | Cambria License Logs</a></li><li><a href="#copy-files-to-cambria-ftc--cluster-pod" class="table-of-contents__link toc-highlight">Copy File(s) to Cambria FTC / Cluster Pod</a></li><li><a href="#restarting--re-creating-pods" class="table-of-contents__link toc-highlight">Restarting / Re-creating Pods</a></li><li><a href="#11-glossary" class="table-of-contents__link toc-highlight">11. Glossary</a><ul><li><a href="#111-kubernetes" class="table-of-contents__link toc-highlight">11.1. Kubernetes</a></li><li><a href="#112-third-party-tools" class="table-of-contents__link toc-highlight">11.2. Third-Party Tools</a></li><li><a href="#113-capella-applications" class="table-of-contents__link toc-highlight">11.3. Capella Applications</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.capellasystems.net/about-capella" target="_blank" rel="noopener noreferrer" class="footer__link-item">About<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.capellasystems.net/newsfeed" target="_blank" rel="noopener noreferrer" class="footer__link-item">Newsfeed<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.capellasystems.net/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://documents.capellasystems.net/docs/Cambria%20Stream/Installation%20Guides/Kubernetes/AWS/placeholder" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cambria Stream<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://documents.capellasystems.net/docs/Cambria%20FTC/Installation%20Guides/Kubernetes/AWS/Akamai_Linode_Kubernetes_CambriaClusterFTC_Installation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cambria FTC<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Other</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.capellasystems.net/terms-of-use" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.capellasystems.net/online-privacy-policy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Capella Systems</div></div></div></footer></div>
</body>
</html>